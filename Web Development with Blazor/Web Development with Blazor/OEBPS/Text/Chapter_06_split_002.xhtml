<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" lang="en-US" xml:lang="en-US">
  <head>
    <title>Chapter_06</title>
    <!-- kobo-style -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="../../stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="../../page_styles.css"/>
</head>
  <body id="Chapter_06" class="calibre">
<div class="calibre1" id="_idContainer046">
<h2 class="heading1" id="_idParaDest-143"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1213.1">Listing and editing categories</span></h2>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1214.1">With our new </span><a id="_idIndexMarker304" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1215.1">component, it’s now time to create a component for listing and editing our categories:</span></p>
<ol class="numberedlist">
<li class="bulletlist1" value="1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1216.1">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1217.1">SharedComponents</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1218.1"> project, open </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1219.1">_Imports.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1220.1">. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1220.2">Make sure the following namespaces are included: </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1221.1">@using SharedComponents</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1222.1"> and </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1223.1">@using Microsoft.AspNetCore.Components.Forms</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1224.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1225.1">Right-click on the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1226.1">Pages</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1227.1"> folder, select </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1228.1">Add</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1229.1"> | </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1230.1">New folder</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1231.1">, and name the folder </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1232.1">Admin</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1233.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1234.1">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1235.1">Pages/Admin</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1236.1"> folder, add a new Razor component and name it </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1237.1">CategoryList.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1238.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1239.1">At the top of the component, replace </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1240.1">&lt;h3&gt;CategoryList&lt;/h3&gt;</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1241.1"> with the following code:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1242.1">@page "/admin/categories"
@rendermode InteractiveServer @using SharedComponents.ReusableComponents @inject IBlogApi _api </span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1243.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1244.1">h3</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1245.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1246.1">Categories</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1247.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1248.1">h3</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1249.1">&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1250.1">We started with the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1251.1">@page</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1252.1"> directive, telling Blazor that if we navigate to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1253.1">"</span></code><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1254.1">admin/categories"</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1255.1"> URL, we will get to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1256.1">CategoryList.Razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1257.1"> component. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1257.2">This component has some interactivity, so we need to set what interactivity mode we wish to use. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1257.3">In this case, we are using </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1258.1">InteractiveServer</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1259.1">. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1259.2">If we want to use </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1260.1">InteractiveAuto</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1261.1"> or </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1262.1">InteractiveWebAssembly</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1263.1">, we need to put the component in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1264.1">BlazorWebApp.Client</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1265.1"> project. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1265.2">We will add a </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1266.1">using</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1267.1"> statement and then inject our API.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="5"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1268.1">The next step is to add a form to edit the categories. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1268.2">Add the following code under the code from the previous step:
        </span><pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1269.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1270.1">EditForm</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1271.1">OnValidSubmit</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1272.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1273.1">"Save"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1274.1">Model</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1275.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1276.1">"Item"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1277.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1278.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1279.1">DataAnnotationsValidator</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1280.1"> /&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1281.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1282.1">CustomCssClassProvider</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1283.1">ProviderType</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1284.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1285.1">"BootstrapFieldCssClassProvider"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1286.1"> /&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1287.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1288.1">InputText</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1289.1"> @</span></span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1290.1">bind-Value</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1291.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1292.1">"@Item.Name"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1293.1"> /&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1294.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1295.1">ValidationMessage</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1296.1">For</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1297.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1298.1">"@(()</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1299.1">=&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1300.1">Item.Name)" /&gt;
    </span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1301.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1302.1">button</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1303.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1304.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1305.1">"btn</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1306.1">btn-success</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1307.1">" </span></span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1308.1">type</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1309.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1310.1">"submit"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1311.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1312.1">Save</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1313.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1314.1">button</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1315.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1316.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1317.1">EditForm</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1318.1">&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1319.1">We added </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1320.1">EditForm</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1321.1">, which will execute the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1322.1">Save</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1323.1"> method if the form validates OK. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1323.2">For validation, we added </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1324.1">DataAnnotationsValidator</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1325.1">, which will validate the supplied data against the annotations we added to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1326.1">Tag</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1327.1"> and </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1328.1">Category</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1329.1"> classes.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1330.1">Since we are using Bootstrap, we want our form controls to look the same, so we added </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1331.1">CustomCssClassProvider</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1332.1">, which we created earlier in this chapter.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1333.1">We added </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1334.1">InputText</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1335.1"> and connected it to a </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1336.1">Category</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1337.1"> object called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1338.1">Item</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1339.1"> (which we will add in just a second).</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1340.1">Below that, we added </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1341.1">ValidationMessage</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1342.1">, which will show any errors for the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1343.1">name</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1344.1"> property, and then a </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1345.1">Submit</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1346.1"> button.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="6"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1347.1">Now, it’s time </span><a id="_idIndexMarker305" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1348.1">to add our </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1349.1">ItemList</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1350.1"> component; under the code we added in the previous step, add this code:
        </span><pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1351.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1352.1">ItemList</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1353.1">Items</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1354.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1355.1">"Items"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1356.1">DeleteEvent</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1357.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1358.1">"@Delete"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1359.1">SelectEvent</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1360.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1361.1">"@Select"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1362.1">ItemType</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1363.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1364.1">"</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1365.1">Category"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1366.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1367.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1368.1">ItemTemplate</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1369.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1370.1">
        @{
            var item = context as Category;
            if (item != null)
            {
                @item.Name
            }
        }
    </span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1371.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1372.1">ItemTemplate</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1373.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1374.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1375.1">ItemList</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1376.1">&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1377.1">We add our component and we bind the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1378.1">Items</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1379.1"> property to a list of items (we will create that list in the next step).</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1380.1">We bind the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1381.1">Select</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1382.1"> and </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1383.1">Delete</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1384.1"> events to methods and we specify the type of the list in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1385.1">ItemType</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1386.1"> property. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1386.2">Then, we have </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1387.1">ItemTemplate</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1388.1">. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1388.2">Since we are using </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1389.1">RenderFragment&lt;T&gt;</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1390.1">, we now have access to a variable called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1391.1">context</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1392.1">.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1393.1">We convert that variable to a category and print out the name of the category. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1393.2">This is the template for each item that will be shown on the list.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="7"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1394.1">Finally, we add</span><a id="_idIndexMarker306" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1395.1"> the following code to replace the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1396.1">code</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1397.1"> section:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1398.1">@code {
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1399.1">private</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1400.1"> List&lt;Category&gt; Items { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1401.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1402.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1403.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1404.1">; } = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1405.1">new</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1406.1">();
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1407.1">public</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1408.1"> Category Item { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1409.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1410.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1411.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1412.1">; } = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1413.1">new</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1414.1">();
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1415.1">protected</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1416.1">async</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1417.1">override</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1418.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1419.1">OnInitializedAsync</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1420.1">()</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1421.1">
    {
        Items = (</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1422.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1423.1"> _api.GetCategoriesAsync()) ?? </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1424.1">new</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1425.1">();
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1426.1">await</span></span> <span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1427.1">base</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1428.1">.OnInitializedAsync();
    }
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1429.1">private</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1430.1">async</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1431.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1432.1">Delete</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1433.1">(</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1434.1">Category category</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1435.1">)</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1436.1">
    {
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1437.1">try</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1438.1">
        {
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1439.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1440.1"> _api.DeleteCategoryAsync(category.Id!);
            Items.Remove(category);
        }
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1441.1">catch</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1442.1"> { }
    }
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1443.1">private</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1444.1">async</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1445.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1446.1">Save</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1447.1">()</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1448.1">
    {
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1449.1">try</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1450.1">
        {
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1451.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1452.1"> _api.SaveCategoryAsync(Item);
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1453.1">if</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1454.1"> (!Items.Contains(Item))
            {
                Items.Add(Item);
            }
            Item = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1455.1">new</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1456.1"> Category();
        }
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1457.1">catch</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1458.1"> { }
    }
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1459.1">private</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1460.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1461.1">Select</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1462.1">(</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1463.1">Category category</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1464.1">)</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1465.1">
    {
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1466.1">try</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1467.1">
        {
            Item = category;
        }
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1468.1">catch</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1469.1"> { }
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1470.1">return</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1471.1"> Task.CompletedTask;
    }
}
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1472.1">We added a list to hold all our categories and a variable that holds one item (the item currently being edited). </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1472.2">We use </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1473.1">OnInitializedAsync</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1474.1"> to load all the categories from the API.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1475.1">The </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1476.1">Delete</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1477.1"> and </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1478.1">Save</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1479.1"> methods call the API’s corresponding method, and the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1480.1">Select</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1481.1"> method takes the provided item and puts it into the item variable (ready to be edited).</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1482.1">We check whether we already have the item in the list before we add it to the list. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1482.2">Run the project and navigate to </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1483.1">/admin/categories</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1484.1">.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="8"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1485.1">Try to add, edit, or delete </span><a id="_idIndexMarker307" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1486.1">a category, as shown in </span><em class="italic"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1487.1">Figure 6.1</span></em><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1488.1">:</span></li>
</ol>
<figure class="mediaobject"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1489.1"><img alt="A screenshot of a computer  Description automatically generated" src="../Images/B21849_06_01.png" class="calibre5"/></span></figure>
<p class="packt_figref"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1490.1">Figure 6.1: The Edit category view</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1491.1">Now, we need a component for listing and editing tags as well – it is pretty much the same thing, but we need to use </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1492.1">Tag</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1493.1"> instead of </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1494.1">Category</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1495.1">.</span></p>
<h2 class="heading1" id="_idParaDest-144"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1496.1">Listing and editing tags</span></h2>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1497.1">We just created a </span><a id="_idIndexMarker308" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1498.1">component for listing and editing categories; now, we need to create a component to list and edit tags:</span></p>
<ol class="numberedlist">
<li class="bulletlist1" value="1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1499.1">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1500.1">BlazorWebApp.Client</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1501.1"> project, in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1502.1">Pages</span></code><strong class="screentext"> </strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1503.1">folder, add a new folder called</span><strong class="screentext"> </strong><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1504.1">Admin</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1505.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1506.1">Add a new Razor component called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1507.1">TagList.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1508.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1509.1">At the top of the component, replace </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1510.1">&lt;h3&gt;TagList&lt;/h3&gt;</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1511.1"> with the following code:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1512.1">@page </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1513.1">"/admin/tags"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1514.1">
@rendermode InteractiveServer
@using Data.Models
@using Data.Models.Interfaces
@using SharedComponents
@using SharedComponents.ReusableComponents
@inject IBlogApi _api &lt;h3&gt;Tags&lt;/h3&gt;
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1515.1">We started with the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1516.1">@page</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1517.1"> directive telling Blazor that if we navigate to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1518.1">"admin/tags"</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1519.1"> URL, we will get to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1520.1">TagList.Razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1521.1"> component. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1521.2">We also specify the render mode as </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1522.1">InteractiveServer</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1523.1">. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1523.2">We add a </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1524.1">using</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1525.1"> statement and then inject our API.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="4"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1526.1">The next step is to add a form to edit the tags. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1526.2">Add the following code under the code from the previous step:
        </span><pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1527.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1528.1">EditForm</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1529.1">OnValidSubmit</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1530.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1531.1">"Save"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1532.1">Model</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1533.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1534.1">"Item"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1535.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1536.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1537.1">DataAnnotationsValidator</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1538.1"> /&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1539.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1540.1">CustomCssClassProvider</span></span>
<span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1541.1">ProviderType</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1542.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1543.1">"BootstrapFieldCssClassProvider"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1544.1"> /&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1545.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1546.1">InputText</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1547.1"> @</span></span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1548.1">bind-Value</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1549.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1550.1">"@Item.Name"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1551.1"> /&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1552.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1553.1">ValidationMessage</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1554.1">For</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1555.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1556.1">"</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1557.1">@(()=&gt;Item.Name)"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1558.1"> /&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1559.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1560.1">button</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1561.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1562.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1563.1">"btn btn-success"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1564.1">type</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1565.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1566.1">"submit"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1567.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1568.1">Save</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1569.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1570.1">button</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1571.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1572.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1573.1">EditForm</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1574.1">&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1575.1">We added </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1576.1">EditForm</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1577.1">, which will execute the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1578.1">Save</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1579.1"> method if the form validates without a problem. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1579.2">For validation, we added </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1580.1">DataAnnotationsValidator</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1581.1">, which will validate the supplied data against the annotations we added to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1582.1">Tag</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1583.1"> and </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1584.1">Category</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1585.1"> classes.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1586.1">Since we are using Bootstrap, we want our form controls to look the same, so we added </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1587.1">CustomCssClassProvider</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1588.1">, which we created earlier in this chapter.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1589.1">We added </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1590.1">InputText</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1591.1"> and connected it to a </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1592.1">Tag</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1593.1"> object called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1594.1">Item</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1595.1"> (which we will add in a moment).</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1596.1">Below it, we add a </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1597.1">ValidationMessage</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1598.1"> instance that will show any errors for the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1599.1">name</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1600.1"> property and then a </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1601.1">Submit</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1602.1"> button.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="5"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1603.1">Now, it’s</span><a id="_idIndexMarker309" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1604.1"> time to add our </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1605.1">ItemList</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1606.1"> component. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1606.2">Under the code we added in the previous step, add this code:
        </span><pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1607.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1608.1">ItemList</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1609.1">Items</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1610.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1611.1">"Items"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1612.1">DeleteEvent</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1613.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1614.1">"</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1615.1">@Delete"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1616.1">SelectEvent</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1617.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1618.1">"@Select"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1619.1">ItemType</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1620.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1621.1">"Tag"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1622.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1623.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1624.1">ItemTemplate</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1625.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1626.1">
        @{
            var item = context as Tag;
            if (item != null)
            {
                @item.Name
            }
        }
    </span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1627.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1628.1">ItemTemplate</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1629.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1630.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1631.1">ItemList</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1632.1">&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1633.1">We added our component and bound the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1634.1">Items</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1635.1"> property to a list of items (we will create that list in the next step). </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1635.2">We bind the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1636.1">Select</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1637.1"> and </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1638.1">Delete</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1639.1"> events to methods and specify the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1640.1">List</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1641.1"> type in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1642.1">ItemType</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1643.1"> property.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1644.1">Then we have </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1645.1">ItemTemplate</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1646.1">; since we are using </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1647.1">RenderFragment&lt;T&gt;</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1648.1">, we now have access to a variable called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1649.1">context</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1650.1">. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1650.2">We convert that variable to a tag and print out the tag’s name.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1651.1">This is the template for each item shown in the list.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="6"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1652.1">Finally, we replace the code section with the following code:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1653.1">@code {
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1654.1">private</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1655.1"> List&lt;Tag&gt; Items { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1656.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1657.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1658.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1659.1">; } = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1660.1">new</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1661.1"> List&lt;Tag&gt;();
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1662.1">public</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1663.1"> Tag Item { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1664.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1665.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1666.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1667.1">; } = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1668.1">new</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1669.1"> Tag();
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1670.1">protected</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1671.1">async</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1672.1">override</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1673.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1674.1">OnInitializedAsync</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1675.1">()</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1676.1">
    {
        Items = (</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1677.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1678.1"> _api.GetTagsAsync())??</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1679.1">new</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1680.1">();
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1681.1">await</span></span> <span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1682.1">base</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1683.1">.OnInitializedAsync();
    }
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1684.1">private</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1685.1">async</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1686.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1687.1">Delete</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1688.1">(</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1689.1">Tag tag</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1690.1">)</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1691.1">
    {
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1692.1">try</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1693.1">
        {
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1694.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1695.1"> _api.DeleteTagAsync(tag.Id!);
            Items.Remove(tag);
        }
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1696.1">catch</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1697.1"> { }
    }
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1698.1">private</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1699.1">async</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1700.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1701.1">Save</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1702.1">()</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1703.1">
    {
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1704.1">try</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1705.1">
        {
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1706.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1707.1"> _api.SaveTagAsync(Item);
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1708.1">if</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1709.1"> (!Items.Contains(Item))
            {
                Items.Add(Item);
            }
            Item = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1710.1">new</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1711.1"> Tag();
        }
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1712.1">catch</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1713.1"> { }
    }
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1714.1">private</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1715.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1716.1">Select</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1717.1">(</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1718.1">Tag tag</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1719.1">)</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1720.1">
    {
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1721.1">try</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1722.1">
        {
            Item = tag;
        }
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1723.1">catch</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1724.1"> { }
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1725.1">return</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1726.1"> Task.CompletedTask;
    }
}
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1727.1">We added a</span><a id="_idIndexMarker310" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1728.1"> list to hold all our tags and a variable that holds one item (the item currently being edited). </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1728.2">We use </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1729.1">OnInitializedAsync</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1730.1"> to load all the tags from the API.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1731.1">The </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1732.1">Delete</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1733.1"> and </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1734.1">Save</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1735.1"> methods call the API’s corresponding method and the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1736.1">Select</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1737.1"> method takes the provided item and puts it into the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1738.1">Item</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1739.1"> variable (ready to be edited).</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1740.1">We check whether we already have the item in the list before we add it to the list.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="7"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1741.1">Run the </span><a id="_idIndexMarker311" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1742.1">project and navigate to </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1743.1">/admin/tags</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1744.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1745.1">Try to add, edit, and delete a tag, as shown in </span><em class="italic"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1746.1">Figure 6.2</span></em><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1747.1">:</span></li>
</ol>
<figure class="mediaobject"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1748.1"><img alt="A screenshot of a computer  Description automatically generated" src="../Images/B21849_06_02.png" class="calibre5"/></span></figure>
<p class="packt_figref"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1749.1">Figure 6.2: The Edit tag view</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1750.1">Now, we need ways to list and edit blog posts.</span></p>
<h2 class="heading1" id="_idParaDest-145"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1751.1">Listing and editing blog posts</span></h2>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1752.1">Let’s start with</span><a id="_idIndexMarker312" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1753.1"> listing and editing blog posts:</span></p>
<ol class="numberedlist">
<li class="bulletlist1" value="1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1754.1">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1755.1">SharedComponents</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1756.1"> project, in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1757.1">Pages/Admin</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1758.1"> folder, add a new Razor component </span><a id="_idIndexMarker313" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1759.1">called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1760.1">BlogPostList.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1761.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1762.1">At the top of the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1763.1">BlogPostList.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1764.1"> file, replace </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1765.1">&lt;h3&gt;BlogPostList&lt;/h3&gt;</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1766.1"> with the following code:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1767.1">@page "/admin/blogposts"
@attribute [StreamRendering(true)]
@inject IBlogApi _api
</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1768.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1769.1">a</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1770.1">href</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1771.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1772.1">"</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1773.1">/admin/blogposts/new"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1774.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1775.1">New blog post</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1776.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1777.1">a</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1778.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1779.1">
@if (posts?.Count == 0)
{
    </span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1780.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1781.1">p</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1782.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1783.1">No blog posts found</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1784.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1785.1">p</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1786.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1787.1">
}
else if (posts == null)
{
    </span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1788.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1789.1">p</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1790.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1791.1">Loading...</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1792.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1793.1">p</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1794.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1795.1">
}
else
{
    </span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1796.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1797.1">ul</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1798.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1799.1">
        @foreach (var p in posts)
        {
            </span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1800.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1801.1">li</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1802.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1803.1">
                @p.PublishDate
                </span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1804.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1805.1">a</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1806.1">href</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1807.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1808.1">"/admin/blogposts/@p.Id"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1809.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1810.1">@p.Title</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1811.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1812.1">a</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1813.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1814.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1815.1">li</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1816.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1817.1">
        }
    </span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1818.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1819.1">ul</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1820.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1821.1">
}
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1822.1">We added a </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1823.1">page</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1824.1"> directive, injected our API, and listed the blog posts using a </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1825.1">foreach</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1826.1"> loop. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1826.2">We also enabled </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1827.1">StreamingRendering</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1828.1">, because this page doesn’t have any interactivity, so there is no need to add that. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1828.2">This also means we can’t use the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1829.1">Virtualize</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1830.1"> component since it is interactive.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1831.1">We also linked the posts to a URL with the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1832.1">Id</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1833.1"> instance of the blog.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="3"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1834.1">Add the following code in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1835.1">code</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1836.1"> section:
        </span><pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1837.1">private</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1838.1"> List&lt;BlogPost&gt;? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1838.2">posts = </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1839.1">null</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1840.1">;
</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1841.1">protected</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1842.1">override</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1843.1">async</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1844.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1845.1">OnInitializedAsync</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1846.1">()</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1847.1">
{
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1848.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1849.1"> Task.Delay(</span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1850.1">1000</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1851.1">);
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1852.1">var</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1853.1"> numberofposts = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1854.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1855.1"> _api.GetBlogPostCountAsync();
    posts = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1856.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1857.1"> _api.GetBlogPostsAsync(numberofposts, </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1858.1">0</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1859.1">);
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1860.1">await</span></span> <span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1861.1">base</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1862.1">.OnInitializedAsync();
}
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1863.1">We added the functionality to load posts from the database and a small delay so that we can see </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1864.1">Loading…</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1865.1"> for just a brief moment. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1865.2">Now, there is only one thing left in the section: adding a page where we can edit the blog post.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1866.1">A very popular </span><a id="_idIndexMarker314" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1867.1">way of writing blog posts is using Markdown; our blog engine will support that. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1867.2">Since Blazor supports any .NET standard </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1868.1">dynamic link library</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1869.1"> (</span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1870.1">DLL</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1871.1">), we will add an existing library called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1872.1">Markdig</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1873.1">.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1874.1">This is the same engine that Microsoft uses for their </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1875.1">docs</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1876.1"> site.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1877.1">We can extend </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1878.1">Markdig</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1879.1"> with different extensions (as Microsoft has done), but let’s keep this simple and only add support for Markdown without all the fancy extensions.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="4"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1880.1">Under the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1881.1">SharedComponents</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1882.1"> project, right-click on the </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1883.1">Dependencies</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1884.1"> node in Solution Explorer and select </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1885.1">Manage NuGet Packages</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1886.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1887.1">Search for </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1888.1">Markdig</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1889.1"> and click </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1890.1">Install</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1891.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1892.1">Add a new class in the root of the project called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1893.1">InputTextAreaOnInput.cs</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1894.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1895.1">Open the new file and replace its contents with the following code:
        </span><pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1896.1">using</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1897.1"> System.Diagnostics.CodeAnalysis;
</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1898.1">using</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1899.1"> Microsoft.AspNetCore.Components.Rendering;
</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1900.1">namespace</span></span> <span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1901.1">Microsoft.AspNetCore.Components.Forms</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1902.1">;
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1903.1">public</span></span> <span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1904.1">class</span></span> <span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1905.1">InputTextAreaOnInput</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1906.1"> :
     </span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1907.1">InputBase</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1908.1">&lt;</span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1909.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1910.1">?&gt;
    {
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1911.1">protected</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1912.1">override</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1913.1">void</span></span><span> </span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1914.1">BuildRenderTree</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1915.1">(</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1916.1">RenderTreeBuilder builder</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1917.1">)</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1918.1">
        {
            builder.OpenElement(</span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1919.1">0</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1920.1">, </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1921.1">"textarea"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1922.1">);
            builder.AddMultipleAttributes(</span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1923.1">1</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1924.1">, AdditionalAttributes);
            builder.AddAttribute(</span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1925.1">2</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1926.1">, </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1927.1">"class"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1928.1">, CssClass);
            builder.AddAttribute(</span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1929.1">3</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1930.1">, </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1931.1">"value"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1932.1">, BindConverter.FormatValue(CurrentValue));
            builder.AddAttribute(</span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1933.1">4</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1934.1">, </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1935.1">"oninput"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1936.1">, EventCallback.Factory.CreateBinder &lt;</span><span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1937.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1938.1">?&gt;(</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1939.1">this</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1940.1">, __value =&gt; CurrentValueAsString = __value, CurrentValueAsString));
            builder.CloseElement();
        }
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1941.1">protected</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1942.1">override</span></span><span> </span><span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1943.1">bool</span></span><span> </span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1944.1">TryParseValueFromString</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1945.1">(</span></span><span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1946.1">string</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1947.1">? </span></span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1948.1">value</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1949.1">, </span></span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1950.1">out</span></span><span> </span><span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1951.1">string</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1952.1">? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1952.2">result, [NotNullWhen(</span></span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1953.1">false</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1954.1">)] </span></span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1955.1">out</span></span><span> </span><span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1956.1">string</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1957.1">? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1957.2">validationErrorMessage)</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1958.1">
        {
            result = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1959.1">value</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1960.1">;
            validationErrorMessage = </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1961.1">null</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1962.1">;
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1963.1">return</span></span> <span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1964.1">true</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1965.1">;
        }
    }
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1966.1">The preceding code is taken from Microsoft’s GitHub repository; it is how they implement the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1967.1">InputTextArea</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1968.1"> component.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1969.1">In their build system, they can’t handle </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1970.1">.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1971.1"> files, so that’s why they implement the code this way. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1971.2">I made one change in Microsoft’s code, and that is </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1972.1">oninput</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1973.1">, which used to say </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1974.1">OnChange</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1975.1">.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1976.1">For most cases, </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1977.1">OnChange</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1978.1"> will be just fine, which means when I leave the textbox, the value will be updated (and trigger validations). </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1978.2">But in our case, we want the preview of the HTML to be updated in real time, which is why we had to implement our own.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1979.1">One option</span><a id="_idIndexMarker315" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1980.1"> could have been not to use the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1981.1">InputTextArea</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1982.1"> component and instead use the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1983.1">TextArea</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1984.1"> tag, but we would lose the validation highlighting. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1984.2">This is the way to go if we ever need to customize the behavior on an input control.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1985.1">I recommend using </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1986.1">.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1987.1"> files over </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1988.1">.cs</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1989.1"> files if you make many changes to the implementation.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="8"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1990.1">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1991.1">Pages/Admin</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1992.1"> folder, add a new Razor component called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1993.1">BlogPostEdit.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1994.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1995.1">At the top of the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1996.1">BlogPostEdit.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1997.1"> file, replace </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1998.1">&lt;h3&gt;BlogPostEdit&lt;/h3&gt;</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1999.1"> with the following code:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2000.1">@page </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2001.1">"/admin/blogposts/new"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2002.1">
@page </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2003.1">"/admin/blogposts/{Id}"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2004.1">
@rendermode InteractiveServer
@inject IBlogApi _api
@inject NavigationManager _manager
@using Markdig; @using Microsoft.AspNetCore.Components.Forms
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2005.1">We add two different </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2006.1">page</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2007.1"> directives because we want to be able to create a new blog post as well as supply an ID to edit an already existing one. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2007.2">If we do not supply an ID, the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2008.1">Id</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2009.1"> parameter will be null (or the default).</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2010.1">We inject our API and </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2011.1">NavigationManager</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2012.1"> as well as adding </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2013.1">using</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2014.1"> statements.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="10"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2015.1">We also need</span><a id="_idIndexMarker316" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2016.1"> some variables. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2016.2">Add the following code in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2017.1">code</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2018.1"> section:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2019.1">[</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2020.1">Parameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2021.1">]
</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2022.1">public</span></span> <span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2023.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2024.1">? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2024.2">Id { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2025.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2026.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2027.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2028.1">; }
BlogPost Post { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2029.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2030.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2031.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2032.1">; } = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2033.1">new</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2034.1">();
List&lt;Category&gt; Categories { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2035.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2036.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2037.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2038.1">; }=</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2039.1">new</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2040.1">();
List&lt;Tag&gt; Tags { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2041.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2042.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2043.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2044.1">; }= </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2045.1">new</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2046.1">();
</span><span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2047.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2048.1">? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2048.2">selectedCategory = </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2049.1">null</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2050.1">;
</span><span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2051.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2052.1">? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2052.2">markDownAsHTML { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2053.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2054.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2055.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2056.1">; }
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2057.1">We added a parameter for the blog post ID (if we want to edit one), a variable to hold the post we are editing, one to hold all the categories, and one to hold all the tags. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2057.2">We also added a variable to hold the currently selected category and one to hold the Markdown converted to HTML.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2058.1">Now, we need to add the form; add the following code:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2059.1">&lt;EditForm Model=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2060.1">"Post"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2061.1"> OnValidSubmit=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2062.1">"SavePost"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2063.1">&gt;
    &lt;DataAnnotationsValidator /&gt;
    &lt;CustomCssClassProvider ProviderType=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2064.1">"BootstrapFieldCssClassProvider"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2065.1"> /&gt;
    &lt;InputText @bind-Value=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2066.1">"Post.Title"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2067.1">/&gt;
    &lt;ValidationMessage For=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2068.1">"()=&gt;Post.Title"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2069.1">/&gt;
    &lt;InputDate @bind-Value=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2070.1">"</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2071.1">Post.PublishDate"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2072.1">/&gt;
    &lt;ValidationMessage For=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2073.1">"()=&gt;Post.PublishDate"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2074.1">/&gt;
    &lt;InputSelect @bind-Value=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2075.1">"selectedCategory"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2076.1">&gt;
        &lt;option </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2077.1">value</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2078.1">=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2079.1">"0"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2080.1"> disabled&gt;None selected&lt;/option&gt;
        @foreach (</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2081.1">var</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2082.1"> category </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2083.1">in</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2084.1"> Categories)
        {
            &lt;option </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2085.1">value</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2086.1">=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2087.1">"@category.Id"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2088.1">&gt;@category.Name &lt;/option&gt;
        }
    &lt;/InputSelect&gt;
    &lt;ul&gt;
        @foreach (</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2089.1">var</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2090.1"> tag </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2091.1">in</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2092.1"> Tags)
        {
        &lt;li&gt;
            @tag.Name
            @if (Post.Tags.Any(t =&gt; t.Id == tag.Id))
            {
                &lt;button type=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2093.1">"button"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2094.1"> @onclick=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2095.1">"@(() =&gt; {Post.Tags.Remove(Post.Tags.Single(t=&gt;t.Id==tag.Id)); })"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2096.1">&gt;Remove&lt;/button&gt;
            }
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2097.1">else</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2098.1">
            {
                &lt;button type=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2099.1">"button"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2100.1"> @onclick=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2101.1">"@(()=&gt; { Post.Tags.Add(tag); })"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2102.1">&gt;Add&lt;/button&gt;
            }
        &lt;/li&gt;
        }
    &lt;/ul&gt;
        &lt;InputTextAreaOnInput @bind-Value=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2103.1">"Post.Text"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2104.1"> @onkeyup=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2105.1">"UpdateHTML"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2106.1">/&gt;
        &lt;ValidationMessage For=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2107.1">"()=&gt;Post.Text"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2108.1">/&gt;
        &lt;button type=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2109.1">"submit"</span></span> <span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2110.1">class</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2111.1">=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2112.1">"btn btn-success"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2113.1">&gt;Save&lt;/button&gt;
    &lt;/EditForm&gt;
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2114.1">We add </span><a id="_idIndexMarker317" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2115.1">an </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2116.1">EditForm</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2117.1">, and when we submit the form (if it is valid), we execute the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2118.1">SavePost</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2119.1"> method. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2119.2">We add </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2120.1">DataAnnotationValidator</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2121.1">, which will validate our model against the data annotations in the class.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2122.1">We add </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2123.1">CustomCssClassProvider</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2124.1"> so that we get the correct Bootstrap class names. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2124.2">Then, we add components for the title, publish date, category, tags, and, last but not least, the text (the blog post’s content).</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2125.1">Finally, we add the text using the component we created in </span><em class="italic"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2126.1">Step 4</span></em><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2127.1"> (the component that updates for each keystroke).</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2128.1">We also hook up the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2129.1">@onkeyup</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2130.1"> event to update the preview for each keystroke.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="11"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2131.1">We also need to add our </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2132.1">SavePost</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2133.1"> method. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2133.2">Add the following code in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2134.1">code</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2135.1"> section:
        </span><pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2136.1">public</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2137.1">async</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2138.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2139.1">SavePost</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2140.1">()</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2141.1">
{
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2142.1">if</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2143.1"> (!</span><span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2144.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2145.1">.IsNullOrEmpty(selectedCategory) &amp;&amp; Categories != </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2146.1">null</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2147.1">)
    {
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2148.1">var</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2149.1"> category = Categories.FirstOrDefault(c =&gt;c.Id == selectedCategory);
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2150.1">if</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2151.1"> (category != </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2152.1">null</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2153.1">)
        {
            Post.Category = category;
        }
    }
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2154.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2155.1"> _api.SaveBlogPostAsync(Post);
    _manager.NavigateTo(</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2156.1">"/admin/blogposts"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2157.1">);
}
</span></code></pre>
</li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2158.1">Now, it’s time</span><a id="_idIndexMarker318" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2159.1"> to show the preview. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2159.2">Add the following code just below the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2160.1">EditForm</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2161.1"> close tag:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2162.1">@((MarkupString)markDownAsHTML)
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2163.1">We use </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2164.1">MarkupString</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2165.1"> to make sure Blazor outputs the HTML code without escaping the characters. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2165.2">You might remember that from </span><em class="italic"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2166.1">Chapter 4</span></em><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2167.1">, </span><em class="italic"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2168.1">Understanding Basic Blazor Components</span></em><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2169.1">.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="13"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2170.1">Now, it is time to set up </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2171.1">Markdig</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2172.1">. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2172.2">Add the following code somewhere in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2173.1">code</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2174.1"> section:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2175.1">MarkdownPipeline pipeline = </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2176.1">default</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2177.1">!;
</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2178.1">protected</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2179.1">override</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2180.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2181.1">OnInitializedAsync</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2182.1">()</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2183.1">
{
    pipeline = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2184.1">new</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2185.1"> MarkdownPipelineBuilder()
             .UseEmojiAndSmiley()
             .Build();
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2186.1">return</span></span> <span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2187.1">base</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2188.1">.OnInitializedAsync();
}
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2189.1">To configure </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2190.1">Markdig</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2191.1">, we need to create a pipeline. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2191.2">As I mentioned earlier in the chapter, this is the engine Microsoft uses for their documentation site. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2191.3">It has many extensions available, including source code highlighting and emoticons.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2192.1">We also added emoticons to the pipeline to make it a little more fun.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="14"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2193.1">We must also </span><a id="_idIndexMarker319" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2194.1">add code to load the data (</span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2195.1">blog</span></code> <code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2196.1">posts</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2197.1">, </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2198.1">categories</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2199.1">, and </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2200.1">tags</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2201.1">). </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2201.2">Add the following methods in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2202.1">code</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2203.1"> section:
        </span><pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2204.1">protected</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2205.1">void</span></span><span> </span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2206.1">UpdateHTML</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2207.1">()</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2208.1">
{
    markDownAsHTML = Markdig.Markdown.ToHtml(Post.Text, pipeline);
}
 </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2209.1">protected</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2210.1">override</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2211.1">async</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2212.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2213.1">OnParametersSetAsync</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2214.1">()</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2215.1">
    {
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2216.1">if</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2217.1"> (Id != </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2218.1">null</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2219.1">)
        {
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2220.1">var</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2221.1"> p = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2222.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2223.1"> _api.GetBlogPostAsync(Id);
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2224.1">if</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2225.1"> (p != </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2226.1">null</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2227.1">)
            {
                Post = p;
                </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2228.1">if</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2229.1"> (Post.Category != </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2230.1">null</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2231.1">)
                {
                    selectedCategory = Post.Category.Id;
                }
                UpdateHTML();
            }
        }
        Categories = (</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2232.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2233.1"> _api.GetCategoriesAsync());
        Tags = (</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2234.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2235.1"> _api.GetTagsAsync());
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2236.1">base</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2237.1">.OnParametersSet();
    }
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2238.1">Now, run the site, navigate to </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2239.1">/admin/blogposts</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2240.1">, click on a blog post to edit it, and test the new Markdown support. </span><em class="italic"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2241.1">Figure 6.3</span></em><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2242.1"> shows the </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2243.1">Edit</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2244.1"> page with Markdown support:</span></p>
<figure class="mediaobject1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2245.1"><img alt="A screenshot of a computer  Description automatically generated" src="../Images/B21849_06_03.png" class="calibre5"/></span></figure>
<p class="packt_figref"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2246.1">Figure 6.3: The Edit page with Markdown support</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2247.1">We still have </span><a id="_idIndexMarker320" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2248.1">one more thing to do: we need to ensure that the blog post page shows a converted HTML version of the Markdown.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="15"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2249.1">Open </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2250.1">/Pages/Post.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2251.1"> and add the following </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2252.1">using</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2253.1"> statement at the top of the file:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2254.1">@using Markdig;
</span></code></pre>
</li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2255.1">Add the following code to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2256.1">code</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2257.1"> section:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2258.1">MarkdownPipeline pipeline;
</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2259.1">protected</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2260.1">override</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2261.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2262.1">OnInitializedAsync</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2263.1">()</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2264.1">
{
    pipeline = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2265.1">new</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2266.1"> MarkdownPipelineBuilder()
             .UseEmojiAndSmiley()
             .Build();
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2267.1">return</span></span> <span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2268.1">base</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2269.1">.OnInitializedAsync();
}
</span></code></pre>
</li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2270.1">Replace the following row:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2271.1">@((MarkupString)BlogPost.Text)
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2272.1">Replace the preceding row with this:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2273.1">@((MarkupString)Markdig.Markdown.ToHtml(BlogPost.Text, pipeline))
</span></code></pre>
</li>
</ol>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2274.1">Great job! </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2274.2">Now, we have </span><a id="_idIndexMarker321" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2275.1">an admin interface up and running so that we can start writing blog posts.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2276.1">Looking at the code we wrote, no textbox has a label; what we can do is add a label in all the places we are using a textbox. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2276.2">Some component vendors have a label built into their components. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2276.3">I prefer doing that myself. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2276.4">Add an abstraction layer on top of any built-in components or third-party components. </span></p>
<h2 class="heading1" id="_idParaDest-146"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2277.1">Adding an abstraction layer</span></h2>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2278.1">This has saved us more times than I can count. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2278.2">Adding an abstraction layer does take some time and effort, but I promise you, you will get that time back. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2278.3">So, why should we do this? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2278.4">Well, for several reasons: if we are using Bootstrap, for example, and we want to upgrade Bootstrap to the latest version, there might be classes that have changed. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2278.5">By using components, it’s easy to only change those components. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2278.6">It also makes it easier to change component vendors in the future if you have your own components encapsulating the third-party components. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2278.7">But the real reason is that if we add a layer, we can set the team’s programming style/language. </span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2279.1">Everything we build will have the same default values, the same access to properties, and the same UX. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2279.2">We can add functionality, but in most cases, it is more important to limit the functionality.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2280.1">A third-party component has a lot of functionality; it should cater to many different use cases. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2280.2">But they also mean that your team now has access to many different functionalities that can make the UX different for each developer that implements the functionality.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2281.1">Let’s add a couple of shared components to the project.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2282.1">The first one is a textbox with a label and validation message built in.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2283.1">If we take a look at our </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2284.1">CategoryList</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2285.1"> component, the code looks like this:</span></p>
<pre class="programlisting"><code class="hljs-code"> <span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2286.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2287.1">InputText</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2288.1"> @</span></span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2289.1">bind-Value</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2290.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2291.1">"@Item.Name"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2292.1"> /&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2293.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2294.1">ValidationMessage</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2295.1">For</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2296.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2297.1">"@(()=&gt;Item.Name)"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2298.1"> /&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2299.1">A label using Bootstrap looks something like this:</span></p>
<pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2300.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2301.1">label</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2302.1">for</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2303.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2304.1">"validationCustomCategoryName"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2305.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2306.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2307.1">"form-label"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2308.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2309.1">Category name</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2310.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2311.1">label</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2312.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2313.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2314.1">div</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2315.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2316.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2317.1">"</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2318.1">input-group has-validation"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2319.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2320.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2321.1">input</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2322.1">type</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2323.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2324.1">"text"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2325.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2326.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2327.1">"form-control"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2328.1">id</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2329.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2330.1">"validationCustomCategoryName"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2331.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2332.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2333.1">div</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2334.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2335.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2336.1">"invalid-feedback"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2337.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2338.1">
        Please choose a category name.
      </span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2339.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2340.1">div</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2341.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2342.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2343.1">div</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2344.1">&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2345.1">Let’s see if we can combine these; some features are already built in. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2345.2">Since we only add a layer, we don’t have to handle as much functionality. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2345.3">We rather need to send the parent component values to the encapsulated component. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2345.4">Let’s look at some code to see what’s </span><a id="_idIndexMarker322" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2346.1">going on:</span></p>
<ol class="numberedlist">
<li class="bulletlist1" value="1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2347.1">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2348.1">SharedComponent</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2349.1"> project, in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2350.1">ResusableComponents</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2351.1"> folder, add a new Razor component and call it </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2352.1">BlogInputText.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2353.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2354.1">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2355.1">code</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2356.1"> section, add the following code:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2357.1">  [</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2358.1">Parameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2359.1">]
  </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2360.1">public</span></span> <span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2361.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2362.1"> Id { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2363.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2364.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2365.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2366.1">; } = Guid.NewGuid().ToString();
  [</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2367.1">Parameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2368.1">]
  </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2369.1">public</span></span> <span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2370.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2371.1">? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2371.2">Label { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2372.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2373.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2374.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2375.1">; }
  [</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2376.1">CascadingParameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2377.1">]
  </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2378.1">public</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2379.1"> required EditContext CurrentEditContext { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2380.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2381.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2382.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2383.1">; }
  [</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2384.1">Parameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2385.1">]
  </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2386.1">public</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2387.1"> required </span><span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2388.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2389.1"> Value { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2390.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2391.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2392.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2393.1">; }
  [</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2394.1">Parameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2395.1">]
  </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2396.1">public</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2397.1"> EventCallback&lt;</span><span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2398.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2399.1">&gt; ValueChanged { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2400.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2401.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2402.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2403.1">; }
  [</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2404.1">Parameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2405.1">]
  </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2406.1">public</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2407.1"> required Expression&lt;Func&lt;</span><span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2408.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2409.1">&gt;&gt; ValueExpression { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2410.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2411.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2412.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2413.1">; }
</span></code></pre>
</li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2414.1">Let’s take a look at what is going on. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2414.2">First, we add a parameter so that we have an ID that we can use for the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2415.1">label</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2416.1"> tag in the next step. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2416.2">We add a string that can contain text for our label, id we do have some text, we render the label. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2416.3">If it is </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2417.1">null</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2418.1">, we don’t render the label. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2418.2">I prefer not to have a “</span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2419.1">ShowLabel</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2420.1">" property. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2420.2">If there is a text, it should show the label. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2420.3">We also have the current edit context, which we will use to send to the next level of components.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2421.1">In our form we have an </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2422.1">EditForm</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2423.1">; the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2424.1">EditForm</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2425.1"> will send the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2426.1">EditContext</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2427.1"> to all the child components and will keep track of the state of the form. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2427.2">We want to grab that edit context and send that to all the components inside of this component as well.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2428.1">Then, we have the trio of value parameters, </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2429.1">Value</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2430.1">, </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2431.1">ValueChanged</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2432.1">, and </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2433.1">ValueExpression</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2434.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2435.1">In the non-code</span><a id="_idIndexMarker323" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2436.1"> part of the page, add the following (replacing the three tags):
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2437.1">@using System.Linq.Expressions
</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2438.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2439.1">CascadingValue</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2440.1">Value</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2441.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2442.1">"CurrentEditContext"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2443.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2444.1">
    @if(Label!=null)
    {
        </span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2445.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2446.1">label</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2447.1">for</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2448.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2449.1">"@Id"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2450.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2451.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2452.1">"form-label"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2453.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2454.1">@Label</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2455.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2456.1">label</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2457.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2458.1">
    }
    </span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2459.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2460.1">InputText</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2461.1">id</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2462.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2463.1">"@Id"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2464.1">Value</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2465.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2466.1">"@Value"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2467.1">ValueChanged</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2468.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2469.1">"ValueChanged"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2470.1">ValueExpression</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2471.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2472.1">"ValueExpression"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2473.1"> /&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2474.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2475.1">ValidationMessage</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2476.1">For</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2477.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2478.1">"@ValueExpression"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2479.1"> /&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2480.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2481.1">CascadingValue</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2482.1">&gt;</span></span>
</code></pre>
</li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2483.1">First, we grab the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2484.1">CurrentEditContext</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2485.1"> and send that to a child component; this way, all the children will have the same edit context as the parent </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2486.1">EditForm</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2487.1">. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2487.2">If we have any text in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2488.1">Label</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2489.1"> parameter, we should show the label. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2489.2">Then we add the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2490.1">InputText</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2491.1">, the built-in component. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2491.2">If we would like to do this with a third-party library, we would do it in a similar way. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2491.3">Next is where things get a bit more complicated; we could have simply said </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2492.1">@bind-Value</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2493.1">, which would notify Blazor that a change has happened, but it would notify the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2494.1">EditContext</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2495.1"> that the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2496.1">Value</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2497.1"> parameter of our component has been changed, not the model. 
    </span><p class="numberedlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2498.1">So, instead of doing that, we set the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2499.1">Value</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2500.1"> parameter and the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2501.1">ValueChanged</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2502.1"> parameter to the parameters that we send to the component. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2502.2">This way, the notification of the value changed will directly notify that the model has been changed. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2502.3">The </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2503.1">ValueExpression</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2504.1"> will make sure that the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2505.1">EditContext</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2506.1"> gets notified of the change and will show the corresponding validation message. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2506.2">To be honest, in this example, it doesn’t really matter, but if we were using a third-party component with validation built in, it might not work (depending on how they build the component). </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2506.3">So, using this method should always work.</span></p></li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="8"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2507.1">Then, we have the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2508.1">ValidationMessage</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2509.1">, which shows any error in the model, and we are using the same </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2510.1">ValueExpression</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2511.1"> here.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2512.1">Now, we need to use this component. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2512.2">Let’s change the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2513.1">Taglist</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2514.1"> first. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2514.2">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2515.1">BlazorWebApp.Client</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2516.1"> project, in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2517.1">Pages/Admin</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2518.1"> folder, open </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2519.1">Taglist.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2520.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2521.1">Right now, we have the following code:
        </span><pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2522.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2523.1">InputText</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2524.1"> @</span></span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2525.1">bind-Value</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2526.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2527.1">"@Item.Name"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2528.1"> /&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2529.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2530.1">ValidationMessage</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2531.1">For</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2532.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2533.1">"@(()=&gt;Item.Name)"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2534.1"> /&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2535.1">Replace this code with the following:</span></p>
<pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2536.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2537.1">BlogInputText</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2538.1"> @</span></span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2539.1">bind-Value</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2540.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2541.1">"@Item.Name"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2542.1">Label</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2543.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2544.1">"Name"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2545.1"> /&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2546.1">Now, isn’t that kind of elegant?</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="11"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2547.1">Let’s do the same with the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2548.1">CategoryList</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2549.1">. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2549.2">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2550.1">SharedComponent</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2551.1"> project, in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2552.1">Pages/Admin</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2553.1"> folder, open </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2554.1">CategoryList.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2555.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2556.1">Replace the following code:
        </span><pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2557.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2558.1">InputText</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2559.1"> @</span></span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2560.1">bind-Value</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2561.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2562.1">"@Item.Name"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2563.1"> /&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2564.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2565.1">ValidationMessage</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2566.1">For</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2567.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2568.1">"@(()=&gt;Item.Name)"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2569.1"> /&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2570.1">Replace the preceding code with the following code:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2571.1">&lt;BlogInputText @bind-Value=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2572.1">"</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2573.1">@Item.Name"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2574.1"> Label=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2575.1">"Name"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2576.1"> /&gt;
</span></code></pre>
</li>
</ol>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2577.1">This kind of</span><a id="_idIndexMarker324" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2578.1"> change makes me genuinely happy – it simplifies usage, makes the UI easier to understand, and removes the need for duplicated code. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2578.2">Even though we know how to do this now, I want to add one more example that perhaps showcases the really nice benefits of working this way. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2578.3">Let’s create a button component as well. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2578.4">This component will be a bit more to take in:</span></p>
<ol class="numberedlist">
<li class="bulletlist1" value="1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2579.1">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2580.1">SharedComponents</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2581.1"> project, in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2582.1">ReusableComponents</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2583.1"> folder, add a new component and name it </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2584.1">BlogButton.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2585.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2586.1">Replace the content with this code:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2587.1">@using Microsoft.AspNetCore.Components.Forms
&lt;button type=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2588.1">"@InternalButtonType"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2589.1"> disabled=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2590.1">"@Disabled"</span></span> <span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2591.1">class</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2592.1">=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2593.1">"@InternalCssClass"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2594.1"> title=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2595.1">"@Title"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2596.1"> @onclick=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2597.1">"OnButtonClick"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2598.1">&gt;@ChildContent&lt;/button&gt;
</span></code></pre>
</li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2599.1">We are adding a normal HTML button, nothing fancy. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2599.2">We add functionality to change the type (</span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2600.1">button</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2601.1"> or </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2602.1">submit</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2603.1">), whether it is disabled or not, what CSS class it should have, a method to run, and the title.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2604.1">Add the following code to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2605.1">code</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2606.1"> section:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2607.1">[</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2608.1">CascadingParameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2609.1">]
 </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2610.1">public</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2611.1"> EditContext? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2611.2">EditContext { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2612.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2613.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2614.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2615.1">; }
 [</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2616.1">Parameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2617.1">]
 </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2618.1">public</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2619.1"> RenderFragment? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2619.2">ChildContent { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2620.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2621.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2622.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2623.1">; }
</span></code></pre>
</li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2624.1">Here, we are doing the same thing as with the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2625.1">BlogTextbox</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2626.1">, and we bring in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2627.1">EditContext</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2628.1">, which we will use in just a bit.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2629.1">We also have a </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2630.1">RenderFragment</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2631.1"> for the content of the button.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2632.1">Next, add</span><a id="_idIndexMarker325" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2633.1"> the following code:
        </span><pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2634.1">`</span></span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2635.1">private</span></span> <span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2636.1">bool</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2637.1">? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2637.2">_disabled = </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2638.1">null</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2639.1">;
 </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2640.1">private</span></span> <span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2641.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2642.1">? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2642.2">_disabledHelpText = </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2643.1">""</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2644.1">;
 </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2645.1">private</span></span> <span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2646.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2647.1"> formerrors = </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2648.1">""</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2649.1">;
    [</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2650.1">Parameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2651.1">]
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2652.1">public</span></span> <span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2653.1">bool</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2654.1"> Disabled
    {
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2655.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2656.1">
        {
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2657.1">if</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2658.1"> (_disabled != </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2659.1">null</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2660.1"> &amp;&amp; (_disabled == </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2661.1">null</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2662.1"> || _disabled.Value))
            {
                </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2663.1">return</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2664.1"> _disabled!.Value;
            }
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2665.1">if</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2666.1"> (EditContext == </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2667.1">null</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2668.1">)
            {
                </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2669.1">return</span></span> <span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2670.1">false</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2671.1">;
            }
            formerrors = </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2672.1">""</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2673.1">;
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2674.1">if</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2675.1"> (!TryGetValidationMessages(</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2676.1">out</span></span> <span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2677.1">var</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2678.1"> validationmessages))
            {
                </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2679.1">return</span></span> <span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2680.1">true</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2681.1">;
            }
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2682.1">foreach</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2683.1"> (</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2684.1">var</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2685.1"> m </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2686.1">in</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2687.1"> validationmessages)
            {
                formerrors += m + (MarkupString)</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2688.1">" \r\n"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2689.1">;
            }
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2690.1">return</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2691.1"> !EditContext.IsModified() || validationmessages.Any();
        }
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2692.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2693.1"> =&gt; _disabled = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2694.1">value</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2695.1">;
    }
</span></code></pre>
</li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2696.1">First, we add a</span><a id="_idIndexMarker326" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2697.1"> couple of </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2698.1">private</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2699.1"> fields that we will use in the component, then we add a property for whether the button is disabled or not. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2699.2">It will use </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2700.1">EditContext</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2701.1"> to check whether there are any errors in the form, save those errors in a variable, and if the form is OK, enable the button, and if it is not, disable the button. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2701.2">There is a downside to this implementation; for the validation to trigger, we need to click somewhere else on the page to trigger the change in the field. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2701.3">So, now, the button will be disabled if the form is not OK.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2702.1">Add the following code:
        </span><pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2703.1">private</span></span> <span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2704.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2705.1">? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2705.2">Title =&gt; Disabled &amp;&amp; !</span><span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2706.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2707.1">.IsNullOrWhiteSpace(DisabledHelpText) ? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2707.2">DisabledHelpText : HelpText;
[</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2708.1">Parameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2709.1">]
</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2710.1">public</span></span> <span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2711.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2712.1">? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2712.2">DisabledHelpText { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2713.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2714.1"> { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2715.1">return</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2716.1"> _disabledHelpText + (MarkupString)</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2717.1">"\r\n"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2718.1"> + formerrors; } </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2719.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2720.1"> { _disabledHelpText = </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2721.1">value</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2722.1">; } }
[</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2723.1">Parameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2724.1">]
</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2725.1">public</span></span> <span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2726.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2727.1">? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2727.2">HelpText { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2728.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2729.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2730.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2731.1">; }
</span></code></pre>
</li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2732.1">This code will get a </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2733.1">Title</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2734.1"> for the button and it will be shown when hovering your mouse over the button. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2734.2">We can also set a </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2735.1">HelpText</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2736.1"> or a disabled help text. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2736.2">If the function is disabled for any reason, it might not have anything to do with the for we will show a text that explains why the button is disabled. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2736.3">It will also add any form errors to the button so it is easy to understand what form element is the problem without having to scroll to the element.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2737.1">Sometimes, we might want to use the button, but without a form, simply executing a method. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2737.2">Add the following code:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2738.1">    [</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2739.1">Parameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2740.1">] </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2741.1">public</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2742.1"> EventCallback OnClick { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2743.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2744.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2745.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2746.1">; }
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2747.1">private</span></span> <span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2748.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2749.1"> InternalButtonType =&gt; OnClick.HasDelegate ? </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2750.1">"button"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2751.1"> : </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2752.1">"submit"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2753.1">;
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2754.1">private</span></span><span> </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2755.1">async</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2756.1"> Task </span></span><span class="hljs-title"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2757.1">OnButtonClick</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2758.1">(</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2759.1">EventArgs args</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2760.1">)</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2761.1">
    {
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2762.1">if</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2763.1"> (OnClick.HasDelegate)
        {
            </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2764.1">await</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2765.1"> OnClick.InvokeAsync(args);
        }
    }
</span></code></pre>
</li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2766.1">If we have a delegate for </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2767.1">OnClick</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2768.1">, we want the button to simply be a button. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2768.2">If we don’t have a delegate, we assume the button is used inside of an </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2769.1">EditForm</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2770.1">. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2770.2">When the button is clicked, the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2771.1">OnButtonClick</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2772.1"> method will run.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2773.1">Now, we get</span><a id="_idIndexMarker327" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2774.1"> to the really juicy part. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2774.2">Let’s add an </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2775.1">enum</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2776.1">; we can add it in the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2777.1">code</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2778.1"> section:
        </span><pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2779.1">public</span></span> <span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2780.1">enum</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2781.1"> ButtonType
{
    Save,
    Cancel,
    Delete,
    Remove,
    Select
}
</span></code></pre>
</li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2782.1">Notice that we are not using vocabulary like primary or danger – that’s Bootstrap lingo. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2782.2">What we want to know is what the button is used for. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2782.3">When we add a button, what is the most likely scenario in which the button will be used? </span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2783.1">Then, we add a parameter for </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2784.1">ButtonType</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2785.1"> like this:
        </span><pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2786.1">[</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2787.1">Parameter</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2788.1">] </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2789.1">public</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2790.1"> ButtonType Type { </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2791.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2792.1">; </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2793.1">set</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2794.1">; }
</span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2795.1">private</span></span> <span class="hljs-built_in"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2796.1">string</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2797.1"> InternalCssClass
{
    </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2798.1">get</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2799.1">
    {
        </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2800.1">return</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2801.1"> Type </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2802.1">switch</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2803.1">
        {
            ButtonType.Save =&gt; </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2804.1">"btn btn-success"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2805.1">,
            ButtonType.Cancel =&gt; </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2806.1">"btn btn-danger"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2807.1">,
            ButtonType.Delete =&gt; </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2808.1">"btn btn-danger"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2809.1">,
            ButtonType.Remove =&gt; </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2810.1">"btn btn-danger"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2811.1">,
            ButtonType.Select =&gt; </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2812.1">"btn btn-primary"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2813.1">,
            _ =&gt; </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2814.1">"btn btn-primary"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2815.1">
        };
    }
}
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2816.1">We add a parameter for </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2817.1">ButtonType</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2818.1"> and an internal property that translates the “Save” use case, for example, to a Bootstrap CSS class.</span></p>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="16"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2819.1">Our team doesn’t have to bother remembering which Bootstrap class they should use; they know it’s a button, and they know what the button is used for. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2819.2">The component takes care of the rest.
    </span><p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2820.1">Let’s test it out!</span></p></li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="17"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2821.1">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2822.1">BlazorWebApp</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2823.1"> project, in</span><a id="_idIndexMarker328" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2824.1"> the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2825.1">Pages/Admin</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2826.1"> folder, open </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2827.1">TagList.razor.</span></code></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2828.1">Replace the following line:
        </span><pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2829.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2830.1">button</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2831.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2832.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2833.1">"btn</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2834.1">btn-success</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2835.1">" </span></span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2836.1">type</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2837.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2838.1">"submit"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2839.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2840.1">Save</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2841.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2842.1">button</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2843.1">&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2844.1">Replace the preceding line with the following line:</span></p>
<pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2845.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2846.1">BlogButton</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2847.1">Type</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2848.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2849.1">"BlogButton.ButtonType.Save"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2850.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2851.1">Save</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2852.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2853.1">BlogButton</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2854.1">&gt;</span></span>
</code></pre>
</li>
</ol>
<ol class="numberedlist">
<li class="bulletlist1" value="19"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2855.1">If you run the project now, you will see that the button is disabled if we haven’t made any changes to the form, and will become enabled if we add something to the textbox. </span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2856.1">Let’s do the same for the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2857.1">CategoryList</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2858.1">. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2858.2">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2859.1">SharedComponents</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2860.1"> project, in the folder </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2861.1">Pages/Admin</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2862.1">, open </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2863.1">CategoryList.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2864.1">.</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2865.1">Replace the following line:
        </span><pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2866.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2867.1">button</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2868.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2869.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2870.1">"btn</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2871.1">btn-success</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2872.1">" </span></span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2873.1">type</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2874.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2875.1">"submit"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2876.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2877.1">Save</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2878.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2879.1">button</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2880.1">&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2881.1">Replace the preceding line with the following line:</span></p>
<pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2882.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2883.1">BlogButton</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2884.1">Type</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2885.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2886.1">"BlogButton.ButtonType.Save"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2887.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2888.1">Save</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2889.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2890.1">BlogButton</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2891.1">&gt;</span></span>
</code></pre>
</li>
</ol>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2892.1">There are</span><a id="_idIndexMarker329" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2893.1"> more places we can modify and add this button to, but let’s not spend time on that for now. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2893.2">If you want, you can return to this and make sure we are using the new button and </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2894.1">InputText</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2895.1"> everywhere.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2896.1">We have one more component to build.</span></p>
</div>
</body>
</html>
