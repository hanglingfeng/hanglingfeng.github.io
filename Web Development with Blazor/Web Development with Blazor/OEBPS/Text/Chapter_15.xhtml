<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" lang="en-US" xml:lang="en-US">
  <head>
    <title>Chapter_15</title>
    <!-- kobo-style -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="../../stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="../../page_styles.css"/>
</head>
  <body id="Chapter_15" class="calibre">
<div class="calibre1" id="_idContainer066">
<h1 class="chapternumber"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.1.1">15</span></h1>
<h1 class="chaptertitle" id="_idParaDest-241"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.2.1">Moving from, or Combining with, an Existing Site</span></h1>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.3.1">In this chapter, we will take a look at how we can combine different technologies and frameworks with Blazor.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.4.1">What if we already have a site?</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.5.1">There are different options when it comes to moving from an existing site; the first question is, do we want to move from it, or do we want to combine it with the new technology?</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.6.1">Microsoft has a history of making it possible for technologies to co-exist, and this is what this chapter is all about.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.7.1">How can we use Angular and React in our Blazor site, or how can we introduce Blazor into an existing Angular and React site?</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.8.1">In this chapter, we will cover the following:</span></p>
<ul class="calibre4">
<li class="bulletlist"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.9.1">Introducing web components</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.10.1">Exploring custom elements</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.11.1">Exploring the Blazor component</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.12.1">Adding Blazor to an Angular site</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.13.1">Adding Blazor to a React site</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.14.1">Adding Blazor to MVC/Razor Pages</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.15.1">Adding web components to a Blazor site</span></li>
<li class="bulletlist1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.16.1">Migrating from web forms</span></li>
</ul>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.17.1">Combining technologies can be very useful, either because we can’t convert a whole site in one go or because other technologies are a better fit for what we are trying to accomplish.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.18.1">Having said that, I prefer using one technology on my site, not mixing Blazor with Angular or React. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.18.2">But during a migration period or if our team is mixed, there are benefits to mixing.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.19.1">There is a cost to mixing technologies, which we will look at throughout the chapter.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.20.1">While writing this chapter, revisiting Angular and React, I must take the opportunity to say how much I love the Razor syntax. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.20.2">React is JavaScript with HTML tags inside, and Angular has templates, which I find pretty nice and remind me of what the Razor syntax looks like.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.21.1">However, there are a lot of things involved: almost 300 MB of Node.js modules, npm, TypeScript, and webpack. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.21.2">Well, the list is long.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.22.1">I love working with Blazor because I don’t need to work with everything I just mentioned. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.22.2">In my opinion, Blazor has the best syntax out of the three options.</span></p>
<h1 class="heading" id="_idParaDest-242"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.23.1">Technical requirements</span></h1>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.24.1">This chapter is a reference chapter and is not connected in any way with the other chapters of the book.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.25.1">You can find the source code for this chapter’s examples at </span><a href="https://github.com/PacktPublishing/Web-Development-with-Blazor-Third-Edition/tree/main/Chapter15" class="calibre3"><span class="calibre3"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.26.1">https://github.com/PacktPublishing/Web-Development-with-Blazor-Third-Edition/tree/main/Chapter15</span></span></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.27.1">.</span></p>
<h1 class="heading" id="_idParaDest-243"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.28.1">Introducing web components</span></h1>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.29.1">To work with JavaScript, whether it’s bringing JavaScript to Blazor or bringing Blazor into JavaScript, we can use a technology called </span><a id="_idIndexMarker561" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.30.1">web components.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.31.1">Web components are a set of web platform APIs that allow us to create new, custom, reusable HTML tags. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.31.2">They are packaged in an encapsulated way, and we can use them very similarly to how we use components in Blazor.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.32.1">The really nice thing is that we can use them in any JavaScript library or framework that supports HTML.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.33.1">Web components </span><a id="_idIndexMarker562" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.34.1">are built on top of existing web standards like shadow DOM, ES modules, HTML templates, and custom elements.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.35.1">We will also recognize some of these technologies or variations of them in Blazor. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.35.2">Shadow DOM is the same as Blazor’s render tree, and ES modules are the type of JavaScript modules we looked at in </span><em class="italic"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.36.1">Chapter 10</span></em><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.37.1">, </span><em class="italic"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.38.1">JavaScript Interop</span></em><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.39.1">.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.40.1">The technology we are going to take a look at in this chapter is </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.41.1">custom elements</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.42.1">.</span></p>
<h1 class="heading" id="_idParaDest-244"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.43.1">Exploring custom elements</span></h1>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.44.1">To bring Blazor into an existing </span><a id="_idIndexMarker563" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.45.1">Angular or React site, we use a feature called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.46.1">CustomElements</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.47.1">. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.47.2">It was introduced as an experimental feature in .NET 6 and has been a part of the framework since .NET 7.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.48.1">The idea is to create parts of your site in Blazor without having to migrate fully over to Blazor.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.49.1">For this feature to work, we need to have an ASP.NET backend or manually make sure the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.50.1">_framework</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.51.1"> files are available. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.51.2">This is so that we can serve the Blazor framework files.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.52.1">There are two ways of running </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.53.1">CustomElements</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.54.1">;</span><strong class="screentext"> </strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.55.1">we can run it as Blazor WebAssembly or as the Blazor Server. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.55.2">Since we are adding Blazor to a client framework like React or Angular, the most relevant method is to run it as Blazor WebAssembly. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.55.3">Therefore, the examples in these first sections will be for Blazor WebAssembly.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.56.1">In the GitHub repo, there is a folder called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.57.1">CustomElements</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.58.1"> in which you will find the code for the projects, from which we will see sample code in this chapter.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.59.1">It is worth mentioning that since the components are being served and used on the client, there is nothing that hinders us (or people who mean us harm) from decompiling the code (if we are using WebAssembly). </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.59.2">This is something client-side developers of all frameworks deal with all the time, but it is worth mentioning again.</span></p>
<h1 class="heading" id="_idParaDest-245"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.60.1">Exploring the Blazor component</span></h1>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.61.1">The first thing we need to </span><a id="_idIndexMarker564" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.62.1">try out is a Blazor component. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.62.2">I have created a </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.63.1">counter</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.64.1"> component inside a Blazor WebAssembly project named </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.65.1">BlazorCustomElements</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.66.1">.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.67.1">The default template comes with a lot of things, and the repo project is stripped to the bare minimum, so it is easy to understand.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.68.1">The component </span><a id="_idIndexMarker565" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.69.1">is nothing different from what we have seen in the book previously; it’s a </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.70.1">counter</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.71.1"> component with a parameter that sets how much the counter should count up. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.71.2">It looks like this:</span></p>
<pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.72.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.73.1">h1</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.74.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.75.1">Blazor counter</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.76.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.77.1">h1</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.78.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.79.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.80.1">p</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.81.1">role</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.82.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.83.1">"status"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.84.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.85.1">Current count: @currentCount</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.86.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.87.1">p</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.88.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.89.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.90.1">p</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.91.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.92.1">Increment amount: @IncrementAmount</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.93.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.94.1">p</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.95.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.96.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.97.1">button</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.98.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.99.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.100.1">"btn btn-primary"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.101.1"> @</span></span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.102.1">onclick</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.103.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.104.1">"IncrementCount"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.105.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.106.1">Click me</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.107.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.108.1">button</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.109.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.110.1">
@code {
    private int currentCount = 0;
    [Parameter] public int IncrementAmount { get; set; } = 1;
    private void IncrementCount()
    {
        currentCount += IncrementAmount;
    }
}
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.111.1">The project also needs a reference to the NuGet package:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.112.1">Microsoft.AspNetCore.Components.CustomElements
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.113.1">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.114.1">Program.cs</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.115.1">, we need to register the component/custom element like this:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.116.1">builder.RootComponents.RegisterCustomElement&lt;Counter&gt;(</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.117.1">"my-blazor-counter"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.118.1">);
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.119.1">That’s it </span><a id="_idIndexMarker566" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.120.1">for the Blazor project.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.121.1">Now it’s time to use our custom element.</span></p>
<h1 class="heading" id="_idParaDest-246"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.122.1">Adding Blazor to an Angular site</span></h1>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.123.1">Let’s look at how</span><a id="_idIndexMarker567" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.124.1"> we can add Blazor to an existing Angular site. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.124.2">This</span><a id="_idIndexMarker568" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.125.1"> demo is based on the Angular and ASP.NET Core template in Visual Studio.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.126.1">The folder is called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.127.1">Angular</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.128.1">.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.129.1">First, we </span><a id="_idIndexMarker569" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.130.1">need a reference to our Blazor library. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.130.2">I added </span><a id="_idIndexMarker570" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.131.1">the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.132.1">BlazorCustomElement</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.133.1"> project as a reference to the server project.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.134.1">We need a reference to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.135.1">Microsoft.AspNetCore.Components.WebAssembly.Server NuGet</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.136.1"> package; this is so we can serve the framework files.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.137.1">To make our site serve the framework files, we need to add the following to </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.138.1">Program.cs</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.139.1">:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.140.1">app.UseBlazorFrameworkFiles();
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.141.1">By default, Angular will be upset when we add our custom element because it does not recognize the tag. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.141.2">To fix this, we need to tell Angular that we are using custom elements. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.141.3">In the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.142.1">angularproject.client/src/app/app.module.ts</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.143.1">, add the following things:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.144.1">import { CUSTOM_ELEMENTS_SCHEMA, NgModule } </span><span class="hljs-keyword"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.145.1">from</span></span> <span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.146.1">'@angular/core'</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.147.1">;
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.148.1">Make sure to replace the row that already has an import for </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.149.1">NgModule</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.150.1">.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.151.1">A bit further down in the same file, add:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.152.1">  schemas: [
    CUSTOM_ELEMENTS_SCHEMA </span><span class="hljs-comment"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.153.1">// Tells Angular we will have custom tags in our templates</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.154.1">
  ]
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.155.1">Now Angular is okay with having custom elements.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.156.1">Next, it’s time to add our component. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.156.2">In </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.157.1">angularproject.client /src/app/app.component.html</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.158.1">, we add our custom tag:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.159.1">&lt;my-blazor-counter increment-amount=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.160.1">"10"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.161.1">&gt;&lt;/my-blazor-counter&gt;
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.162.1">In this case, we set the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.163.1">increment-amount</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.164.1"> parameter to </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.165.1">10</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.166.1">, which will increase the counter by </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.167.1">10</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.168.1"> every time we click it.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.169.1">To make this all work, we need to load a couple of JavaScript scripts. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.169.2">In </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.170.1">angularproject.client/src/index.html</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.171.1">, we need to add:</span></p>
<pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.172.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.173.1">script</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.174.1">src</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.175.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.176.1">"_content/Microsoft.AspNetCore.Components.CustomElements/Microsoft.AspNetCore.Components.CustomElements.lib.module.js"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.177.1">&gt;&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.178.1">script</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.179.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.180.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.181.1">script</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.182.1">src</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.183.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.184.1">"_framework/blazor.webassembly.js"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.185.1">&gt;&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.186.1">script</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.187.1">&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.188.1">We have </span><a id="_idIndexMarker571" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.189.1">one last thing we need to fix. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.189.2">When running the </span><a id="_idIndexMarker572" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.190.1">Angular project, it spins up a developer server. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.190.2">Actually, it spins up two: one for the ASP.NET backend and one for the Angular frontend. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.190.3">We need to make the Angular server send all the framework requests to the ASP.NET backend.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.191.1">In the default project template, this is already done for the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.192.1">/weatherforecast</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.193.1"> path. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.193.2">Add the following code to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.194.1">angularproject.client/proxy.conf.js</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.195.1"> file:</span></p>
<pre class="programlisting"><code class="hljs-code"> <span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.196.1">context</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.197.1">: [
  </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.198.1">"/weatherforecast"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.199.1">,
  </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.200.1">"</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.201.1">/_framework"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.202.1">,
  </span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.203.1">"/_content"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.204.1">,
],
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.205.1">We tell the developer server that if there is a request going to </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.206.1">weatherforecast</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.207.1">, </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.208.1">_framework</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.209.1">, or </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.210.1">_content</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.211.1">, we want to redirect that request to the ASP.NET backend.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.212.1">We now have </span><a id="_idIndexMarker573" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.213.1">a working Angular/Blazor WebAssembly</span><a id="_idIndexMarker574" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.214.1"> hybrid. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.214.2">I was honestly amazed at how easy and straightforward this was the first time I tried it. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.214.3">It makes it so easy to include some Blazor components on your Angular site, so you can convert it into Blazor step by step, and component by component.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.215.1">Next, we will do the same using a React site.</span></p>
<h1 class="heading" id="_idParaDest-247"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.216.1">Adding Blazor to a React site</span></h1>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.217.1">Adding </span><a id="_idIndexMarker575" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.218.1">Blazor to a React site is very similar to Angular. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.218.2">This </span><a id="_idIndexMarker576" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.219.1">demo is based on the React and ASP.NET Core template in Visual Studio. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.219.2">The project is called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.220.1">ReactProject</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.221.1">.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.222.1">First, we need a reference to our Blazor library, and I added the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.223.1">BlazorCustomElement</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.224.1"> project as a reference.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.225.1">We need a reference to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.226.1">Microsoft.AspNetCore.Components.WebAssembly.Server NuGet</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.227.1"> package; this is so we can serve the framework files.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.228.1">To make our site serve the framework files, we need to add the following to </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.229.1">Program.cs</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.230.1">:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.231.1">app.UseBlazorFrameworkFiles();
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.232.1">Next, it’s</span><a id="_idIndexMarker577" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.233.1"> time to add our component. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.233.2">In </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.234.1">reactproject.client/src/ /App.tsx</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.235.1">, we</span><a id="_idIndexMarker578" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.236.1"> add our custom tag:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.237.1">&lt;my-blazor-counter increment-amount="</span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.238.1">10</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.239.1">"&gt;&lt;/my-blazor-counter&gt;
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.240.1">In this case, we set the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.241.1">increment-amount</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.242.1"> parameter to </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.243.1">10</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.244.1">, which will increase the counter by </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.245.1">10</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.246.1"> every time we click it.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.247.1">To make this all work, we need to load a couple of JavaScript. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.247.2">In </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.248.1">reactproject.client/index.html</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.249.1">, we need to add:</span></p>
<pre class="programlisting"><code class="hljs-code"> <span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.250.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.251.1">script</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.252.1">src</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.253.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.254.1">"_content/Microsoft.AspNetCore.Components.CustomElements/Microsoft.AspNetCore.Components.CustomElements.lib.module.js"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.255.1">&gt;&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.256.1">script</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.257.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.258.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.259.1">script</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.260.1">src</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.261.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.262.1">"_framework/blazor.webassembly.js"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.263.1">&gt;&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.264.1">script</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.265.1">&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.266.1">These scripts will make sure our components load.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.267.1">We have one last thing we need to fix. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.267.2">When running the React project, it spins up a developer server. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.267.3">Actually, it spins up two: one for the ASP.NET backend and one for the React frontend.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.268.1">We need to make the React server send all the framework requests to the ASP.NET backend. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.268.2">In the default project template, this is already done for the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.269.1">/weatherforecast</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.270.1"> path.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.271.1">Add the following code to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.272.1">reactproject.client/vite.config.ts</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.273.1"> file:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.274.1">'^/_framework': {
    target,
    secure: </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.275.1">false</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.276.1">
},
'^/_content': {
    target,
    secure: </span><span class="hljs-literal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.277.1">false</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.278.1">
},	
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.279.1">We tell the developer server that if a request goes to </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.280.1">weatherforecast</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.281.1">, </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.282.1">_framework</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.283.1">, or </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.284.1">_content</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.285.1">, we want to redirect that request to the ASP.NET backend.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.286.1">We now have </span><a id="_idIndexMarker579" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.287.1">a working React/Blazor WebAssembly hybrid. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.287.2">This is very </span><a id="_idIndexMarker580" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.288.1">similar to Angular, and I was amazed at how easy and straightforward this was as well. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.288.2">It makes it so easy to include some Blazor components on your React site, so you can convert it to Blazor step by step, component by component.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.289.1">Next, we will do the same using a Razor Pages site.</span></p>
<h1 class="heading" id="_idParaDest-248"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.290.1">Adding Blazor to MVC/Razor Pages</span></h1>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.291.1">When I started with Blazor, this</span><a id="_idIndexMarker581" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.292.1"> was exactly the scenario we wanted to </span><a id="_idIndexMarker582" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.293.1">address. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.293.2">We had an MVC/Razor Pages mix, and it was time for an upgrade.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.294.1">We solved it by implementing Razor Pages that referred to Razor components. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.294.2">Looking back at it now, it was not a pretty solution, at least not for a while, until we got to the point where most of the code was rewritten in Blazor.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.295.1">The challenge is that if we navigate to a page that has a Blazor component (a Razor component), that page is connected to the server and establishes a WebSocket. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.295.2">If we navigate away from a Blazor page to an MVC page, for example, we reload the entire page, and the script gets reloaded as well. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.295.3">A new connection was established, leaving the old one on the server for 3 minutes.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.296.1">We don’t have many users, and for us, that technique works long enough for us to finish the migration and launch a new Blazor version of the site.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.297.1">But I have some good news!</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.298.1">We can also use the same custom elements to run on a Razor Pages site.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.299.1">Let’s take a look!</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.300.1">The project is called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.301.1">RazorPagesProject</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.302.1">.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.303.1">In the previous examples with Angular and React, those technologies are client side; therefore, we used WebAssembly. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.303.2">Razor Pages is server side, and even though we could use WebAssembly here as well, this is an excellent opportunity to take a look at making the </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.304.1">custom component</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.305.1"> use Blazor Server.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.306.1">First, we need a reference to our Blazor library. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.306.2">I added the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.307.1">BlazorCustomElement</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.308.1"> project as a reference.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.309.1">Then we need to enable Blazor Server in our Razor Pages by adding the following code to </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.310.1">Program.cs</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.311.1">:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.312.1">builder.Services.AddRazorComponents()
    .AddInteractiveServerComponents(options =&gt;
    {
        options.RootComponents.RegisterCustomElement&lt;Counter&gt;(</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.313.1">"my-counter"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.314.1">);
    });
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.315.1">And:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.316.1">app.MapBlazorHub();
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.317.1">In </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.318.1">Pages/Shared/_Layout.cshtml</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.319.1">, we need to add the JavaScript:</span></p>
<pre class="programlisting"><code class="hljs-code"> <span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.320.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.321.1">script</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.322.1">src</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.323.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.324.1">"_content/Microsoft.AspNetCore.Components.CustomElements/Microsoft.AspNetCore.Components.CustomElements.lib.module.js"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.325.1">&gt;&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.326.1">script</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.327.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.328.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.329.1">script</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.330.1">src</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.331.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.332.1">"_framework/blazor.server.js"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.333.1">&gt;&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.334.1">script</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.335.1">&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.336.1">In this case, we add the script for Blazor Server.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.337.1">Last but </span><a id="_idIndexMarker583" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.338.1">not least, we need to add our component. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.338.2">In </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.339.1">Pages/Index.cshtml</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.340.1">, we </span><a id="_idIndexMarker584" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.341.1">add:</span></p>
<pre class="programlisting"><code class="hljs-code"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.342.1">&lt;my-counter increment-amount=</span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.343.1">"10"</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.344.1">&gt;&lt;/my-counter&gt;
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.345.1">And we are done; the custom component is now running inside our Razor Pages site (which, of course, is an ASP.NET site with Razor Pages turned on).</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.346.1">The cool part is that with only a few changes, we can switch this implementation to run WebAssembly instead of Blazor Server for the Blazor components.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.347.1">Again, I am super impressed by this; it makes it so simple to migrate existing sites to Blazor.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.348.1">Next, we will look at how we can use Angular or React controls on our Blazor website.</span></p>
<h1 class="heading" id="_idParaDest-249"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.349.1">Adding web components to a Blazor site</span></h1>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.350.1">We have</span><a id="_idIndexMarker585" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.351.1"> looked at adding Blazor to an existing Angular, React, and even MVC/Razor </span><a id="_idIndexMarker586" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.352.1">Pages site.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.353.1">But sometimes, that perfect library you love to use might not have a Blazor counterpart. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.353.2">We know that we can make a JavaScript interop and build it ourselves, but can we also use Angular and React libraries from Blazor?</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.354.1">We have two options here; either we can convert our site into an Angular/React site and use those examples, or we can convert the JavaScript library into a web component and use it from Blazor.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.355.1">Until now, we haven’t used npm or anything like that because, in most cases, we don’t need it. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.355.2">But now we are mixing technologies, and for that, npm is the easiest way. </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.356.1">npm</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.357.1"> is outside the scope of this book, so I will not go into any details about it.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.358.1">How to convert Angular/React or anything else into a web component is also outside the scope of this book.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.359.1">The project is called </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.360.1">BlazorProject</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.361.1">.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.362.1">We can browse some of the web components on this site: </span><a href="https://www.webcomponents.org/" class="calibre3"><span class="calibre3"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.363.1">https://www.webcomponents.org/</span></span></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.364.1">.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.365.1">I found a Markdown editor from GitHub. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.365.2">Even though we are not implementing it on our blog, feel free to go back and do so if you want to.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.366.1">We can read about the editor here:</span></p>
<p class="normal1"><a href="mailto:https://www.webcomponents.org/element/@github/markdown-toolbar-element" class="calibre3"><span class="calibre3"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.367.1">https://www.webcomponents.org/element/@github/markdown-toolbar-element</span></span></a></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.368.1">To get the required JavaScript files, we need to set up </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.369.1">npm</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.370.1">. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.370.2">In the project folder (</span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.371.1">BlazorProject.Client</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.372.1">), run the following commands:</span></p>
<pre class="programlisting1"><code class="hljs-con"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.373.1">npm init
npm install –save @github/markdown-toolbar-element
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.374.1">This will bring down the JavaScript we need.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.375.1">Next, copy the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.376.1">BlazorProject\node_modules\@github\markdown-toolbar-element\</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.377.1"> folder to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.378.1">wwwroot</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.379.1"> folder (in the server project) and include it in the project.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.380.1">Now, the JavaScript will be accessible from our project.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.381.1">In </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.382.1">app.razor</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.383.1">, we need to add a reference to the JavaScript, and we put it below the Blazor JavaScript:</span></p>
<pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.384.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.385.1">script</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.386.1">type</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.387.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.388.1">"module"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.389.1">src</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.390.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.391.1">"markdown-toolbar-element/dist/index.js"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.392.1">&gt;&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.393.1">script</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.394.1">&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.395.1">This </span><a id="_idIndexMarker587" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.396.1">component </span><a id="_idIndexMarker588" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.397.1">is an ES6 module, so we set the type to </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.398.1">"module"</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.399.1">.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.400.1">Now, all that is remaining is to add our component. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.400.2">In the demo project, I added it to the </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.401.1">MarkdownDemo </span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.402.1">component.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.403.1">First, the component:</span></p>
<pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.404.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.405.1">markdown-toolbar</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.406.1">for</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.407.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.408.1">"textarea"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.409.1">role</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.410.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.411.1">"toolbar"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.412.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.413.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.414.1">md-bold</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.415.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.416.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.417.1">"btn btn-sm"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.418.1">tabindex</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.419.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.420.1">"0"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.421.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.422.1">bold</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.423.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.424.1">md-bold</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.425.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.426.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.427.1">md-header</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.428.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.429.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.430.1">"btn btn-sm"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.431.1">tabindex</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.432.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.433.1">"-1"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.434.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.435.1">header</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.436.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.437.1">md-header</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.438.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.439.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.440.1">md-italic</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.441.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.442.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.443.1">"btn btn-sm"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.444.1">tabindex</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.445.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.446.1">"-1"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.447.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.448.1">italic</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.449.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.450.1">md-italic</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.451.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.452.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.453.1">md-quote</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.454.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.455.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.456.1">"btn btn-sm"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.457.1">tabindex</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.458.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.459.1">"-1"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.460.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.461.1">quote</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.462.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.463.1">md-quote</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.464.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.465.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.466.1">md-code</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.467.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.468.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.469.1">"btn btn-sm"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.470.1">tabindex</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.471.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.472.1">"-1"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.473.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.474.1">code</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.475.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.476.1">md-code</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.477.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.478.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.479.1">md-link</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.480.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.481.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.482.1">"btn btn-sm"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.483.1">tabindex</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.484.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.485.1">"-1"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.486.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.487.1">link</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.488.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.489.1">md-link</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.490.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.491.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.492.1">md-image</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.493.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.494.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.495.1">"btn btn-sm"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.496.1">tabindex</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.497.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.498.1">"-1"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.499.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.500.1">image</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.501.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.502.1">md-image</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.503.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.504.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.505.1">md-unordered-list</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.506.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.507.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.508.1">"btn btn-sm"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.509.1">tabindex</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.510.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.511.1">"-1"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.512.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.513.1">unordered-list</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.514.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.515.1">md-unordered-list</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.516.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.517.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.518.1">md-ordered-list</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.519.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.520.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.521.1">"btn btn-sm"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.522.1">tabindex</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.523.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.524.1">"-1"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.525.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.526.1">ordered-list</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.527.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.528.1">md-ordered-list</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.529.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.530.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.531.1">md-task-list</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.532.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.533.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.534.1">"btn btn-sm"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.535.1">tabindex</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.536.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.537.1">"-1"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.538.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.539.1">task-list</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.540.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.541.1">md-task-list</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.542.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.543.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.544.1">md-mention</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.545.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.546.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.547.1">"btn btn-sm"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.548.1">tabindex</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.549.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.550.1">"-1"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.551.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.552.1">mention</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.553.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.554.1">md-mention</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.555.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.556.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.557.1">md-ref</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.558.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.559.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.560.1">"btn btn-sm"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.561.1">tabindex</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.562.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.563.1">"-1"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.564.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.565.1">ref</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.566.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.567.1">md-ref</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.568.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.569.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.570.1">md-strikethrough</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.571.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.572.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.573.1">"btn btn-sm"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.574.1">tabindex</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.575.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.576.1">"-1"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.577.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.578.1">strikethrough</span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.579.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.580.1">md-strikethrough</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.581.1">&gt;</span></span>
<span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.582.1">&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.583.1">markdown-toolbar</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.584.1">&gt;</span></span>
</code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.585.1">Then the text area with binding to a C# variable, </span><code class="inlinecode"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.586.1">markdown</span></code><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.587.1">:</span></p>
<pre class="programlisting"><code class="hljs-code"><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.588.1">&lt;</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.589.1">textarea</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.590.1"> @</span></span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.591.1">bind</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.592.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.593.1">"markdown"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.594.1"> @</span></span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.595.1">bind:event</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.596.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.597.1">"oninput"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.598.1">rows</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.599.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.600.1">"</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.601.1">6"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.602.1">class</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.603.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.604.1">"mt-3 d-block width-full"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.605.1">id</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.606.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.607.1">"textarea"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.608.1">contenteditable</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.609.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.610.1">"false"</span></span><span> </span><span class="hljs-number"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.611.1">spellcheck</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.612.1">=</span></span><span class="hljs-string"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.613.1">"false"</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.614.1">&gt;&lt;/</span></span><span class="hljs-name"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.615.1">textarea</span></span><span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.616.1">&gt;</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.617.1">
@markdown
@code
{
    private string markdown = "Hello, **world**!";
}
</span></code></pre>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.618.1">The C# variable changes as soon as we edit the textbox, either by using the toolbar or typing some text.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.619.1">We have integrated a web component into our Blazor project, which binds to a C# variable.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.620.1">This is </span><a id="_idIndexMarker589" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.621.1">super powerful and gives us new possibilities to add existing </span><a id="_idIndexMarker590" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.622.1">functionality to our Blazor site.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.623.1">Now we know how to handle SPA frameworks like React and Angular. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.623.2">But what about server frameworks like Web Forms? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.623.3">This is what we will look at next.</span></p>
<h1 class="heading" id="_idParaDest-250"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.624.1">Migrating from Web Forms</span></h1>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.625.1">Last but not least, we have </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.626.1">web forms</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.627.1">.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.628.1">There is honestly not </span><a id="_idIndexMarker591" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.629.1">any good upgrade path for web forms; there was a project that aimed for code reuse when migrating to Blazor, but it is not being actively worked on.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.630.1">The first thing we should know is that Blazor is in many ways very similar to web forms, so the learning curve to get to Blazor is almost nonexistent since we have state management in web forms as well as Blazor.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.631.1">There are some </span><a id="_idIndexMarker592" class="calibre3"></a><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.632.1">migration strategies where you would use </span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.633.1">Yet Another Reverse Proxy </span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.634.1">(</span><strong class="screentext"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.635.1">YARP</span></strong><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.636.1">). </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.636.2">Still, my recommendation would be to migrate a part of the website to Blazor and have two sites running, until we reach the point where it is feature-complete. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.636.3">Moving to Blazor is fairly quick to do, and in the end, I believe it will save you time.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.637.1">When we moved our site from MVC to Blazor, we realized that, in some cases, it was faster to rewrite the component to Blazor than trying to solve it in MVC.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.638.1">Web forms should be even faster to convert since the backend code is more similar to Blazor than MVC.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.639.1">So, what should we do? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.639.2">Should we upgrade or keep using web forms? </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.639.3">Upgrade – you will not be disappointed!</span></p>
<h1 class="heading" id="_idParaDest-251"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.640.1">Summary</span></h1>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.641.1">We discussed adding Blazor to other technologies, like Angular, React, and Razor Pages, using web components in this chapter. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.641.2">We looked at how to add web components to a Blazor project and leverage JavaScript libraries in our Blazor app.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.642.1">Upgrading a current site to Blazor can be a lot of work. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.642.2">At my former employer, we made this journey 4 years ago. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.642.3">In our case, we wanted to update our MVC site to be more interactive. </span><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.642.4">We went for Blazor, and I would argue it saved our project and made us more productive, resulting in a more interactive user experience.</span></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.643.1">In the next chapter, we will delve deeper into Blazor WebAssembly.</span></p>
<h1 class="heading" id="_idParaDest-252"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.644.1">Join our community on Discord </span></h1>
<p class="normal"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.645.1">Join our community’s Discord space for discussions with the author and other readers: </span></p>
<p class="normal1"><a href="https://packt.link/WebDevBlazor3e" class="calibre3"><span class="calibre3"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.646.1">https://packt.link/WebDevBlazor3e</span></span></a></p>
<p class="normal1"><span xmlns="http://www.w3.org/1999/xhtml" class="kobospan" id="kobo.647.1"><img alt="" role="presentation" src="../Images/QR_Code2668029180838459906.png" class="calibre5"/></span></p>
</div>
</body>
</html>
