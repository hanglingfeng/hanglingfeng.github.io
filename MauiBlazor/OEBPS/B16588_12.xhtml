<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
<head>
<title>B16588_12</title>
<link href="css/style-JRserifv6.css" rel="stylesheet" type="text/css"/>
<!-- kobo-style -->
<style id="koboSpanStyle" type="text/css" xmlns="http://www.w3.org/1999/xhtml">.koboSpan { -webkit-text-combine: inherit; }</style>
</head>
<body id="B16588_12" xml:lang="en-GB">
<div id="_idContainer133">
<h1 class="chapter-number" id="_idParaDest-225"><a id="_idTextAnchor241"/><span class="koboSpan" id="kobo.1.1" xmlns="http://www.w3.org/1999/xhtml">12</span></h1>
<h1 id="_idParaDest-226"><a id="_idTextAnchor242"/><span class="koboSpan" id="kobo.2.1" xmlns="http://www.w3.org/1999/xhtml">Deploying and Publishing in App Stores</span></h1>
<p><span class="koboSpan" id="kobo.3.1" xmlns="http://www.w3.org/1999/xhtml">After we complete the development work, we want to publish our app in various app stores. </span><span class="koboSpan" id="kobo.3.2" xmlns="http://www.w3.org/1999/xhtml">Since .NET MAUI is a cross-platform framework, we can build the same source code for Android, iOS, macOS, and Windows. </span><span class="koboSpan" id="kobo.3.3" xmlns="http://www.w3.org/1999/xhtml">It is possible to deploy our app to a repository such as GitHub, but most users of these platforms use app stores instead. </span><span class="koboSpan" id="kobo.3.4" xmlns="http://www.w3.org/1999/xhtml">We need to know how to prepare our app for different app stores. </span><span class="koboSpan" id="kobo.3.5" xmlns="http://www.w3.org/1999/xhtml">This is the topic of this chapter. </span><span class="koboSpan" id="kobo.3.6" xmlns="http://www.w3.org/1999/xhtml">In this chapter, we will cover the preparation of the application packages </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1" xmlns="http://www.w3.org/1999/xhtml">before publishing.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1" xmlns="http://www.w3.org/1999/xhtml">We will cover the following topics in </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1" xmlns="http://www.w3.org/1999/xhtml">this chapter:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.7.1" xmlns="http://www.w3.org/1999/xhtml">Preparing application packages </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1" xmlns="http://www.w3.org/1999/xhtml">for publishing</span></span></li>
<li><span class="koboSpan" id="kobo.9.1" xmlns="http://www.w3.org/1999/xhtml">Automating the build process using </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1" xmlns="http://www.w3.org/1999/xhtml">GitHub Actions</span></span></li>
</ul>
<h1 id="_idParaDest-227"><a id="_idTextAnchor243"/><span class="koboSpan" id="kobo.11.1" xmlns="http://www.w3.org/1999/xhtml">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.12.1" xmlns="http://www.w3.org/1999/xhtml">To test and debug the source code in this chapter, we need to install Visual Studio 2022 in both Windows and macOS environments. </span><span class="koboSpan" id="kobo.12.2" xmlns="http://www.w3.org/1999/xhtml">Please refer to the </span><em class="italic"><span class="koboSpan" id="kobo.13.1" xmlns="http://www.w3.org/1999/xhtml">Development environment setup</span></em><span class="koboSpan" id="kobo.14.1" xmlns="http://www.w3.org/1999/xhtml"> section in </span><a href="B16588_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.15.1" xmlns="http://www.w3.org/1999/xhtml">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.16.1" xmlns="http://www.w3.org/1999/xhtml">, </span><em class="italic"><span class="koboSpan" id="kobo.17.1" xmlns="http://www.w3.org/1999/xhtml">Getting Started with .NET MAUI</span></em><span class="koboSpan" id="kobo.18.1" xmlns="http://www.w3.org/1999/xhtml"> for the full details about </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1" xmlns="http://www.w3.org/1999/xhtml">environment setup.</span></span></p>
<p><span class="koboSpan" id="kobo.20.1" xmlns="http://www.w3.org/1999/xhtml">We will build Windows and Android packages using Windows and build iOS and macOS packages </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1" xmlns="http://www.w3.org/1999/xhtml">using macOS.</span></span></p>
<p><span class="koboSpan" id="kobo.22.1" xmlns="http://www.w3.org/1999/xhtml">The source code of this chapter is available in the following </span><span class="No-Break"><span class="koboSpan" id="kobo.23.1" xmlns="http://www.w3.org/1999/xhtml">GitHub repository:</span></span></p>
<p><a href="https://github.com/PacktPublishing/.NET-MAUI-Cross-Platform-Application-Development/tree/main/Chapter12"><span class="No-Break"><span class="koboSpan" id="kobo.24.1" xmlns="http://www.w3.org/1999/xhtml">https://github.com/PacktPublishing/.NET-MAUI-Cross-Platform-Application-Development/tree/main/Chapter12</span></span></a></p>
<h1 id="_idParaDest-228"><a id="_idTextAnchor244"/><span class="koboSpan" id="kobo.25.1" xmlns="http://www.w3.org/1999/xhtml">Preparing application packages for publishing</span></h1>
<p><span class="koboSpan" id="kobo.26.1" xmlns="http://www.w3.org/1999/xhtml">In previous chapters, there</span><a id="_idIndexMarker864"/><span class="koboSpan" id="kobo.27.1" xmlns="http://www.w3.org/1999/xhtml"> is very little platform-specific knowledge</span><a id="_idIndexMarker865"/><span class="koboSpan" id="kobo.28.1" xmlns="http://www.w3.org/1999/xhtml"> required in the .NET MAUI development. </span><span class="koboSpan" id="kobo.28.2" xmlns="http://www.w3.org/1999/xhtml">However, we cannot avoid platform-specific information when we prepare to publish our app to individual app stores. </span><span class="koboSpan" id="kobo.28.3" xmlns="http://www.w3.org/1999/xhtml">In this chapter, we will introduce what we need to prepare the app for publishing and then we will introduce how to automate the process using </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.29.1" xmlns="http://www.w3.org/1999/xhtml">GitHub Actions</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.30.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<h2 id="_idParaDest-229"><a id="_idTextAnchor245"/><span class="koboSpan" id="kobo.31.1" xmlns="http://www.w3.org/1999/xhtml">What to prepare for publishing</span></h2>
<p><span class="koboSpan" id="kobo.32.1" xmlns="http://www.w3.org/1999/xhtml">To prepare for publishing, we will focus</span><a id="_idIndexMarker866"/><span class="koboSpan" id="kobo.33.1" xmlns="http://www.w3.org/1999/xhtml"> on the work that we need to do before submitting the package to an app store. </span><span class="koboSpan" id="kobo.33.2" xmlns="http://www.w3.org/1999/xhtml">After the packages are loaded into your chosen app store, please refer to the documents in each app store about the actual </span><span class="No-Break"><span class="koboSpan" id="kobo.34.1" xmlns="http://www.w3.org/1999/xhtml">publishing process.</span></span></p>
<p><span class="koboSpan" id="kobo.35.1" xmlns="http://www.w3.org/1999/xhtml">In the preparation for publishing, we are trying to answer </span><span class="No-Break"><span class="koboSpan" id="kobo.36.1" xmlns="http://www.w3.org/1999/xhtml">these questions:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.37.1" xmlns="http://www.w3.org/1999/xhtml">How to identify an app in </span><span class="No-Break"><span class="koboSpan" id="kobo.38.1" xmlns="http://www.w3.org/1999/xhtml">app store</span></span></li>
<li><span class="koboSpan" id="kobo.39.1" xmlns="http://www.w3.org/1999/xhtml">How to  identify the </span><span class="No-Break"><span class="koboSpan" id="kobo.40.1" xmlns="http://www.w3.org/1999/xhtml">app developers</span></span></li>
<li><span class="koboSpan" id="kobo.41.1" xmlns="http://www.w3.org/1999/xhtml">Which devices can the </span><span class="No-Break"><span class="koboSpan" id="kobo.42.1" xmlns="http://www.w3.org/1999/xhtml">app support</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.43.1" xmlns="http://www.w3.org/1999/xhtml">To build and sign application packages on different platforms, there is platform-specific configuration involved. </span><span class="koboSpan" id="kobo.43.2" xmlns="http://www.w3.org/1999/xhtml">In .NET MAUI, the platform-specific information is included in the Visual Studio project file and the platform-specific configuration file. </span><span class="koboSpan" id="kobo.43.3" xmlns="http://www.w3.org/1999/xhtml">In the Visual Studio project file, conditional compilation is used to specify platform-specific information. </span><span class="koboSpan" id="kobo.43.4" xmlns="http://www.w3.org/1999/xhtml">We can refer to </span><em class="italic"><span class="koboSpan" id="kobo.44.1" xmlns="http://www.w3.org/1999/xhtml">Table 12.1</span></em><span class="koboSpan" id="kobo.45.1" xmlns="http://www.w3.org/1999/xhtml"> for an overview of what we need to change for </span><span class="No-Break"><span class="koboSpan" id="kobo.46.1" xmlns="http://www.w3.org/1999/xhtml">each platform.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer116">
<span class="koboSpan" id="kobo.47.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Table 12.1: The build configuration" src="image/Table_12.01_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.48.1" xmlns="http://www.w3.org/1999/xhtml">Table 12.1: The build configuration</span></p>
<p><span class="koboSpan" id="kobo.49.1" xmlns="http://www.w3.org/1999/xhtml">In </span><em class="italic"><span class="koboSpan" id="kobo.50.1" xmlns="http://www.w3.org/1999/xhtml">Table 12.1</span></em><span class="koboSpan" id="kobo.51.1" xmlns="http://www.w3.org/1999/xhtml">, to identify</span><a id="_idIndexMarker867"/><span class="koboSpan" id="kobo.52.1" xmlns="http://www.w3.org/1999/xhtml"> an app, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.53.1" xmlns="http://www.w3.org/1999/xhtml">ApplicationId</span></strong><span class="koboSpan" id="kobo.54.1" xmlns="http://www.w3.org/1999/xhtml"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.55.1" xmlns="http://www.w3.org/1999/xhtml">ApplicationVersion</span></strong><span class="koboSpan" id="kobo.56.1" xmlns="http://www.w3.org/1999/xhtml"> variables</span><a id="_idIndexMarker868"/><span class="koboSpan" id="kobo.57.1" xmlns="http://www.w3.org/1999/xhtml"> are defined in the Visual Studio project file. </span><span class="koboSpan" id="kobo.57.2" xmlns="http://www.w3.org/1999/xhtml">For each platform, there is a platform </span><span class="No-Break"><span class="koboSpan" id="kobo.58.1" xmlns="http://www.w3.org/1999/xhtml">configuration file.</span></span></p>
<p><span class="koboSpan" id="kobo.59.1" xmlns="http://www.w3.org/1999/xhtml">When distributing our app for Android, we generate a </span><strong class="source-inline"><span class="koboSpan" id="kobo.60.1" xmlns="http://www.w3.org/1999/xhtml">.apk</span></strong><span class="koboSpan" id="kobo.61.1" xmlns="http://www.w3.org/1999/xhtml"> file or a </span><strong class="source-inline"><span class="koboSpan" id="kobo.62.1" xmlns="http://www.w3.org/1999/xhtml">.aab</span></strong><span class="koboSpan" id="kobo.63.1" xmlns="http://www.w3.org/1999/xhtml"> file. </span><span class="koboSpan" id="kobo.63.2" xmlns="http://www.w3.org/1999/xhtml">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.64.1" xmlns="http://www.w3.org/1999/xhtml">.apk</span></strong><span class="koboSpan" id="kobo.65.1" xmlns="http://www.w3.org/1999/xhtml"> file is the original Android package format, which can be used to install an app package on the device or emulator. </span><span class="koboSpan" id="kobo.65.2" xmlns="http://www.w3.org/1999/xhtml">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.66.1" xmlns="http://www.w3.org/1999/xhtml">.aab</span></strong><span class="koboSpan" id="kobo.67.1" xmlns="http://www.w3.org/1999/xhtml"> file is used to submit the app to the Google Play Store. </span><span class="koboSpan" id="kobo.67.2" xmlns="http://www.w3.org/1999/xhtml">Before submission, we need to sign the package using Keystore. </span><strong class="source-inline"><span class="koboSpan" id="kobo.68.1" xmlns="http://www.w3.org/1999/xhtml">ApplicationId</span></strong><span class="koboSpan" id="kobo.69.1" xmlns="http://www.w3.org/1999/xhtml"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.70.1" xmlns="http://www.w3.org/1999/xhtml">ApplicationVersion</span></strong><span class="koboSpan" id="kobo.71.1" xmlns="http://www.w3.org/1999/xhtml"> are mapped to the package ID and version code in the Android configuration </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.72.1" xmlns="http://www.w3.org/1999/xhtml">AndroidManifest.xml</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.73.1" xmlns="http://www.w3.org/1999/xhtml"> file.</span></span></p>
<p><span class="koboSpan" id="kobo.74.1" xmlns="http://www.w3.org/1999/xhtml">When distributing our app for iOS or macOS, a </span><strong class="source-inline"><span class="koboSpan" id="kobo.75.1" xmlns="http://www.w3.org/1999/xhtml">.ipa</span></strong><span class="koboSpan" id="kobo.76.1" xmlns="http://www.w3.org/1999/xhtml"> file is generated for iOS. </span><span class="koboSpan" id="kobo.76.2" xmlns="http://www.w3.org/1999/xhtml">A </span><strong class="source-inline"><span class="koboSpan" id="kobo.77.1" xmlns="http://www.w3.org/1999/xhtml">.app</span></strong><span class="koboSpan" id="kobo.78.1" xmlns="http://www.w3.org/1999/xhtml"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.79.1" xmlns="http://www.w3.org/1999/xhtml">.pkg</span></strong><span class="koboSpan" id="kobo.80.1" xmlns="http://www.w3.org/1999/xhtml"> file is generated for macOS. </span><span class="koboSpan" id="kobo.80.2" xmlns="http://www.w3.org/1999/xhtml">To sign an iOS or a macOS package, we need a distribution certificate and a distribution profile. </span><strong class="source-inline"><span class="koboSpan" id="kobo.81.1" xmlns="http://www.w3.org/1999/xhtml">ApplicationId</span></strong><span class="koboSpan" id="kobo.82.1" xmlns="http://www.w3.org/1999/xhtml"> is mapped to the bundle id and </span><strong class="source-inline"><span class="koboSpan" id="kobo.83.1" xmlns="http://www.w3.org/1999/xhtml">ApplicationVersion</span></strong><span class="koboSpan" id="kobo.84.1" xmlns="http://www.w3.org/1999/xhtml"> is mapped to the bundle version </span><span class="No-Break"><span class="koboSpan" id="kobo.85.1" xmlns="http://www.w3.org/1999/xhtml">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.86.1" xmlns="http://www.w3.org/1999/xhtml">Info.plist</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.87.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<p><span class="koboSpan" id="kobo.88.1" xmlns="http://www.w3.org/1999/xhtml">When distributing our app for Windows, the MSIX package format is used. </span><span class="koboSpan" id="kobo.88.2" xmlns="http://www.w3.org/1999/xhtml">We will build the package in a </span><strong class="source-inline"><span class="koboSpan" id="kobo.89.1" xmlns="http://www.w3.org/1999/xhtml">.msix</span></strong><span class="koboSpan" id="kobo.90.1" xmlns="http://www.w3.org/1999/xhtml"> file extension. </span><span class="koboSpan" id="kobo.90.2" xmlns="http://www.w3.org/1999/xhtml">In Windows, a </span><strong class="bold"><span class="koboSpan" id="kobo.91.1" xmlns="http://www.w3.org/1999/xhtml">universally unique identifier</span></strong><span class="koboSpan" id="kobo.92.1" xmlns="http://www.w3.org/1999/xhtml"> (</span><strong class="bold"><span class="koboSpan" id="kobo.93.1" xmlns="http://www.w3.org/1999/xhtml">UUID</span></strong><span class="koboSpan" id="kobo.94.1" xmlns="http://www.w3.org/1999/xhtml">) is used instead of </span><strong class="source-inline"><span class="koboSpan" id="kobo.95.1" xmlns="http://www.w3.org/1999/xhtml">ApplicationId</span></strong><span class="koboSpan" id="kobo.96.1" xmlns="http://www.w3.org/1999/xhtml">. </span><span class="koboSpan" id="kobo.96.2" xmlns="http://www.w3.org/1999/xhtml">This UUID is generated as </span><strong class="source-inline"><span class="koboSpan" id="kobo.97.1" xmlns="http://www.w3.org/1999/xhtml">ApplicationGuid</span></strong><span class="koboSpan" id="kobo.98.1" xmlns="http://www.w3.org/1999/xhtml"> as an application identifier. </span><strong class="source-inline"><span class="koboSpan" id="kobo.99.1" xmlns="http://www.w3.org/1999/xhtml">ApplicationVersion</span></strong><span class="koboSpan" id="kobo.100.1" xmlns="http://www.w3.org/1999/xhtml"> is mapped to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.101.1" xmlns="http://www.w3.org/1999/xhtml">Version</span></strong><span class="koboSpan" id="kobo.102.1" xmlns="http://www.w3.org/1999/xhtml"> attribute of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.103.1" xmlns="http://www.w3.org/1999/xhtml">Identity</span></strong><span class="koboSpan" id="kobo.104.1" xmlns="http://www.w3.org/1999/xhtml"> tag </span><span class="No-Break"><span class="koboSpan" id="kobo.105.1" xmlns="http://www.w3.org/1999/xhtml">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.106.1" xmlns="http://www.w3.org/1999/xhtml">Package.appxmanifest</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.107.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.108.1" xmlns="http://www.w3.org/1999/xhtml">What is MSIX?</span></p>
<p class="callout"><span class="koboSpan" id="kobo.109.1" xmlns="http://www.w3.org/1999/xhtml">MSIX is a new Windows app</span><a id="_idIndexMarker869"/><span class="koboSpan" id="kobo.110.1" xmlns="http://www.w3.org/1999/xhtml"> package format that can be used for all Windows apps. </span><span class="koboSpan" id="kobo.110.2" xmlns="http://www.w3.org/1999/xhtml">Please refer to the Microsoft documentation</span><a id="_idIndexMarker870"/><span class="koboSpan" id="kobo.111.1" xmlns="http://www.w3.org/1999/xhtml"> to find out </span><span class="No-Break"><span class="koboSpan" id="kobo.112.1" xmlns="http://www.w3.org/1999/xhtml">more information:</span></span></p>
<p class="callout"><a href="https://learn.microsoft.com/en-us/windows/msix/overview"><span class="No-Break"><span class="koboSpan" id="kobo.113.1" xmlns="http://www.w3.org/1999/xhtml">https://learn.microsoft.com/en-us/windows/msix/overview</span></span></a></p>
<p><span class="koboSpan" id="kobo.114.1" xmlns="http://www.w3.org/1999/xhtml">In the subsequent sections, we will introduce </span><a id="_idIndexMarker871"/><span class="koboSpan" id="kobo.115.1" xmlns="http://www.w3.org/1999/xhtml">how to generate release packages</span><a id="_idIndexMarker872"/><span class="koboSpan" id="kobo.116.1" xmlns="http://www.w3.org/1999/xhtml"> on each platform. </span><span class="koboSpan" id="kobo.116.2" xmlns="http://www.w3.org/1999/xhtml">We will build Windows and Android packages on Windows and, iOS and macOS packages on macOS. </span><span class="koboSpan" id="kobo.116.3" xmlns="http://www.w3.org/1999/xhtml">We will try to do it using both Visual Studio and the </span><span class="No-Break"><span class="koboSpan" id="kobo.117.1" xmlns="http://www.w3.org/1999/xhtml">command line.</span></span></p>
<h2 id="_idParaDest-230"><a id="_idTextAnchor246"/><span class="koboSpan" id="kobo.118.1" xmlns="http://www.w3.org/1999/xhtml">Publishing to Microsoft Store</span></h2>
<p><span class="koboSpan" id="kobo.119.1" xmlns="http://www.w3.org/1999/xhtml">We can build a </span><strong class="source-inline"><span class="koboSpan" id="kobo.120.1" xmlns="http://www.w3.org/1999/xhtml">.msix</span></strong><span class="koboSpan" id="kobo.121.1" xmlns="http://www.w3.org/1999/xhtml"> package for Microsoft Store</span><a id="_idIndexMarker873"/><span class="koboSpan" id="kobo.122.1" xmlns="http://www.w3.org/1999/xhtml"> using either Visual Studio or the command line </span><span class="No-Break"><span class="koboSpan" id="kobo.123.1" xmlns="http://www.w3.org/1999/xhtml">on Windows.</span></span></p>
<p><span class="koboSpan" id="kobo.124.1" xmlns="http://www.w3.org/1999/xhtml">In Visual Studio, we need to set the target framework as </span><strong class="bold"><span class="koboSpan" id="kobo.125.1" xmlns="http://www.w3.org/1999/xhtml">net6.0-windows10.0.19041.0</span></strong><span class="koboSpan" id="kobo.126.1" xmlns="http://www.w3.org/1999/xhtml"> and set the build type </span><span class="No-Break"><span class="koboSpan" id="kobo.127.1" xmlns="http://www.w3.org/1999/xhtml">to </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.128.1" xmlns="http://www.w3.org/1999/xhtml">Release</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.129.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<p><span class="koboSpan" id="kobo.130.1" xmlns="http://www.w3.org/1999/xhtml">After that, we can right-click on the project node and select the </span><strong class="bold"><span class="koboSpan" id="kobo.131.1" xmlns="http://www.w3.org/1999/xhtml">Publish… </span></strong><span class="No-Break"><span class="koboSpan" id="kobo.132.1" xmlns="http://www.w3.org/1999/xhtml">menu item.</span></span></p>
<p><span class="koboSpan" id="kobo.133.1" xmlns="http://www.w3.org/1999/xhtml">As we can see in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.134.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.135.1" xmlns="http://www.w3.org/1999/xhtml">.1</span></em><span class="koboSpan" id="kobo.136.1" xmlns="http://www.w3.org/1999/xhtml">, a window will appear with </span><strong class="bold"><span class="koboSpan" id="kobo.137.1" xmlns="http://www.w3.org/1999/xhtml">Select distribution method </span></strong><span class="koboSpan" id="kobo.138.1" xmlns="http://www.w3.org/1999/xhtml">on it. </span><span class="koboSpan" id="kobo.138.2" xmlns="http://www.w3.org/1999/xhtml">We can select </span><strong class="bold"><span class="koboSpan" id="kobo.139.1" xmlns="http://www.w3.org/1999/xhtml">Microsoft Store under a new app name</span></strong><span class="koboSpan" id="kobo.140.1" xmlns="http://www.w3.org/1999/xhtml"> and click on the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.141.1" xmlns="http://www.w3.org/1999/xhtml">Next</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.142.1" xmlns="http://www.w3.org/1999/xhtml"> button.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer117">
<span class="koboSpan" id="kobo.143.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.1: Select distribution method" src="image/Figure_12.01_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.144.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.1: Select distribution method</span></p>
<p><span class="koboSpan" id="kobo.145.1" xmlns="http://www.w3.org/1999/xhtml">Before we move</span><a id="_idIndexMarker874"/><span class="koboSpan" id="kobo.146.1" xmlns="http://www.w3.org/1999/xhtml"> to the next step in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.147.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.148.1" xmlns="http://www.w3.org/1999/xhtml">.2</span></em><span class="koboSpan" id="kobo.149.1" xmlns="http://www.w3.org/1999/xhtml">, we need an app </span><span class="No-Break"><span class="koboSpan" id="kobo.150.1" xmlns="http://www.w3.org/1999/xhtml">name ready.</span></span></p>
<p><span class="koboSpan" id="kobo.151.1" xmlns="http://www.w3.org/1999/xhtml">To create a new app name, we need to do it in Microsoft Store at the </span><span class="No-Break"><span class="koboSpan" id="kobo.152.1" xmlns="http://www.w3.org/1999/xhtml">following URL:</span></span></p>
<p><a href="http://developer.microsoft.com/dashboard"><span class="No-Break"><span class="koboSpan" id="kobo.153.1" xmlns="http://www.w3.org/1999/xhtml">http://developer.microsoft.com/dashboard</span></span></a></p>
<p><span class="koboSpan" id="kobo.154.1" xmlns="http://www.w3.org/1999/xhtml">Once we have an app name, we can associate it with our app. </span><span class="koboSpan" id="kobo.154.2" xmlns="http://www.w3.org/1999/xhtml">You can see how to do this in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.155.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.156.1" xmlns="http://www.w3.org/1999/xhtml">.2</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.157.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer118">
<span class="koboSpan" id="kobo.158.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.2: Associating your app with Microsoft Store" src="image/Figure_12.02_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.159.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.2: Associating your app with Microsoft Store</span></p>
<p><span class="koboSpan" id="kobo.160.1" xmlns="http://www.w3.org/1999/xhtml">After we click the </span><strong class="bold"><span class="koboSpan" id="kobo.161.1" xmlns="http://www.w3.org/1999/xhtml">Next </span></strong><span class="koboSpan" id="kobo.162.1" xmlns="http://www.w3.org/1999/xhtml">button, Visual Studio</span><a id="_idIndexMarker875"/><span class="koboSpan" id="kobo.163.1" xmlns="http://www.w3.org/1999/xhtml"> will search for the app name in Microsoft Store for us. </span><span class="koboSpan" id="kobo.163.2" xmlns="http://www.w3.org/1999/xhtml">The app name created in Microsoft Store is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.164.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.165.1" xmlns="http://www.w3.org/1999/xhtml">.3</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.166.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer119">
<span class="koboSpan" id="kobo.167.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.3: Selecting an app name" src="image/Figure_12.03_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.168.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.3: Selecting an app name</span></p>
<p><span class="koboSpan" id="kobo.169.1" xmlns="http://www.w3.org/1999/xhtml">After selecting the app</span><a id="_idIndexMarker876"/><span class="koboSpan" id="kobo.170.1" xmlns="http://www.w3.org/1999/xhtml"> name, click on the </span><strong class="bold"><span class="koboSpan" id="kobo.171.1" xmlns="http://www.w3.org/1999/xhtml">Next</span></strong><span class="koboSpan" id="kobo.172.1" xmlns="http://www.w3.org/1999/xhtml"> button. </span><span class="koboSpan" id="kobo.172.2" xmlns="http://www.w3.org/1999/xhtml">A screen to select and configure packages will appear, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.173.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.174.1" xmlns="http://www.w3.org/1999/xhtml">.4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.175.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer120">
<span class="koboSpan" id="kobo.176.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.4: Selecting and configuring packages" src="image/Figure_12.04_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.177.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.4: Selecting and configuring packages</span></p>
<p><span class="koboSpan" id="kobo.178.1" xmlns="http://www.w3.org/1999/xhtml">We can click on the drop-down</span><a id="_idIndexMarker877"/><span class="koboSpan" id="kobo.179.1" xmlns="http://www.w3.org/1999/xhtml"> menu under </span><strong class="bold"><span class="koboSpan" id="kobo.180.1" xmlns="http://www.w3.org/1999/xhtml">Publishing profile</span></strong><span class="koboSpan" id="kobo.181.1" xmlns="http://www.w3.org/1999/xhtml">. </span><span class="koboSpan" id="kobo.181.2" xmlns="http://www.w3.org/1999/xhtml">A dialog will be shown, as we can see in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.182.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.183.1" xmlns="http://www.w3.org/1999/xhtml">.4</span></em><span class="koboSpan" id="kobo.184.1" xmlns="http://www.w3.org/1999/xhtml">. </span><span class="koboSpan" id="kobo.184.2" xmlns="http://www.w3.org/1999/xhtml">After clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.185.1" xmlns="http://www.w3.org/1999/xhtml">OK</span></strong><span class="koboSpan" id="kobo.186.1" xmlns="http://www.w3.org/1999/xhtml"> button in the dialog box, it will create a new MSIX publish profile. </span><span class="koboSpan" id="kobo.186.2" xmlns="http://www.w3.org/1999/xhtml">Once we have a publish profile, we can click on the </span><strong class="bold"><span class="koboSpan" id="kobo.187.1" xmlns="http://www.w3.org/1999/xhtml">Create</span></strong><span class="koboSpan" id="kobo.188.1" xmlns="http://www.w3.org/1999/xhtml"> button (which will now become active) to create the package. </span><span class="koboSpan" id="kobo.188.2" xmlns="http://www.w3.org/1999/xhtml">It will take a while to finish the build and package creation. </span><span class="koboSpan" id="kobo.188.3" xmlns="http://www.w3.org/1999/xhtml">Once it completes, we can see the following screen, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.189.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.190.1" xmlns="http://www.w3.org/1999/xhtml">.5</span></em><span class="koboSpan" id="kobo.191.1" xmlns="http://www.w3.org/1999/xhtml">, and an MSIX package is now ready to </span><span class="No-Break"><span class="koboSpan" id="kobo.192.1" xmlns="http://www.w3.org/1999/xhtml">be submitted.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer121">
<span class="koboSpan" id="kobo.193.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.5: An MSIX package" src="image/Figure_12.05_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.194.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.5: An MSIX package</span></p>
<p><span class="koboSpan" id="kobo.195.1" xmlns="http://www.w3.org/1999/xhtml">The location of the new package</span><a id="_idIndexMarker878"/><span class="koboSpan" id="kobo.196.1" xmlns="http://www.w3.org/1999/xhtml"> is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.197.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.198.1" xmlns="http://www.w3.org/1999/xhtml">.5</span></em><span class="koboSpan" id="kobo.199.1" xmlns="http://www.w3.org/1999/xhtml">. </span><span class="koboSpan" id="kobo.199.2" xmlns="http://www.w3.org/1999/xhtml">There is an option with which we can verify the package by running </span><strong class="bold"><span class="koboSpan" id="kobo.200.1" xmlns="http://www.w3.org/1999/xhtml">Windows App </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.201.1" xmlns="http://www.w3.org/1999/xhtml">Certification Kit</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.202.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<p><span class="koboSpan" id="kobo.203.1" xmlns="http://www.w3.org/1999/xhtml">In the preceding steps, two files (as shown here) relating to the publication of the app will have been created in the </span><span class="No-Break"><span class="koboSpan" id="kobo.204.1" xmlns="http://www.w3.org/1999/xhtml">project folder:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.205.1" xmlns="http://www.w3.org/1999/xhtml">Package.StoreAssociation.xml</span></strong><span class="koboSpan" id="kobo.206.1" xmlns="http://www.w3.org/1999/xhtml"> – this is a file to associate the app with </span><span class="No-Break"><span class="koboSpan" id="kobo.207.1" xmlns="http://www.w3.org/1999/xhtml">Microsoft Store</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.208.1" xmlns="http://www.w3.org/1999/xhtml">Properties\PublishProfiles\MSIX-win10-x86.pubxml</span></strong><span class="koboSpan" id="kobo.209.1" xmlns="http://www.w3.org/1999/xhtml"> – this is the </span><span class="No-Break"><span class="koboSpan" id="kobo.210.1" xmlns="http://www.w3.org/1999/xhtml">publish profile</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.211.1" xmlns="http://www.w3.org/1999/xhtml">Both files may contain sensitive information so they should not be checked into the </span><span class="No-Break"><span class="koboSpan" id="kobo.212.1" xmlns="http://www.w3.org/1999/xhtml">Git repository.</span></span></p>
<p><span class="koboSpan" id="kobo.213.1" xmlns="http://www.w3.org/1999/xhtml">To integrate the build process in the CI/CD environment, we need to execute the build process using the command line. </span><span class="koboSpan" id="kobo.213.2" xmlns="http://www.w3.org/1999/xhtml">To build a </span><strong class="source-inline"><span class="koboSpan" id="kobo.214.1" xmlns="http://www.w3.org/1999/xhtml">.msix</span></strong><span class="koboSpan" id="kobo.215.1" xmlns="http://www.w3.org/1999/xhtml"> package using the command line, we can execute the following command from the </span><span class="No-Break"><span class="koboSpan" id="kobo.216.1" xmlns="http://www.w3.org/1999/xhtml">project folder:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.217.1" xmlns="http://www.w3.org/1999/xhtml">
dotnet publish PassXYZ.Vault/PassXYZ.Vault.csproj -c Release -f net6.0-windows10.0.19041.0</span></pre>
<p><span class="koboSpan" id="kobo.218.1" xmlns="http://www.w3.org/1999/xhtml">Once we build the </span><strong class="source-inline"><span class="koboSpan" id="kobo.219.1" xmlns="http://www.w3.org/1999/xhtml">.msix</span></strong><span class="koboSpan" id="kobo.220.1" xmlns="http://www.w3.org/1999/xhtml"> package, we</span><a id="_idIndexMarker879"/><span class="koboSpan" id="kobo.221.1" xmlns="http://www.w3.org/1999/xhtml"> can upload it to Microsoft Store in the </span><strong class="bold"><span class="koboSpan" id="kobo.222.1" xmlns="http://www.w3.org/1999/xhtml">Packages</span></strong><span class="koboSpan" id="kobo.223.1" xmlns="http://www.w3.org/1999/xhtml"> section of the </span><span class="No-Break"><span class="koboSpan" id="kobo.224.1" xmlns="http://www.w3.org/1999/xhtml">app submission.</span></span></p>
<h2 id="_idParaDest-231"><a id="_idTextAnchor247"/><span class="koboSpan" id="kobo.225.1" xmlns="http://www.w3.org/1999/xhtml">Publishing to the Google Play Store</span></h2>
<p><span class="koboSpan" id="kobo.226.1" xmlns="http://www.w3.org/1999/xhtml">To prepare for the submission</span><a id="_idIndexMarker880"/><span class="koboSpan" id="kobo.227.1" xmlns="http://www.w3.org/1999/xhtml"> in the Google Play Store, you need to create a new app in the Google Play Console. </span><span class="koboSpan" id="kobo.227.2" xmlns="http://www.w3.org/1999/xhtml">To create a new app in the Google Play Console, you need a </span><span class="No-Break"><span class="koboSpan" id="kobo.228.1" xmlns="http://www.w3.org/1999/xhtml">Google account.</span></span></p>
<p><span class="koboSpan" id="kobo.229.1" xmlns="http://www.w3.org/1999/xhtml">To identify an app, every Android app has a unique application ID or package ID defined in the configuration file </span><strong class="source-inline"><span class="koboSpan" id="kobo.230.1" xmlns="http://www.w3.org/1999/xhtml">AndroidManifest.xml</span></strong><span class="koboSpan" id="kobo.231.1" xmlns="http://www.w3.org/1999/xhtml">. </span><span class="koboSpan" id="kobo.231.2" xmlns="http://www.w3.org/1999/xhtml">This configuration file is generated by Visual Studio from the project file, and it can be found at </span><strong class="source-inline"><span class="koboSpan" id="kobo.232.1" xmlns="http://www.w3.org/1999/xhtml">Platforms/Android/AndroidManifest.xml</span></strong><span class="koboSpan" id="kobo.233.1" xmlns="http://www.w3.org/1999/xhtml">. </span><span class="koboSpan" id="kobo.233.2" xmlns="http://www.w3.org/1999/xhtml">Let’s review </span><strong class="source-inline"><span class="koboSpan" id="kobo.234.1" xmlns="http://www.w3.org/1999/xhtml">AndroidManifest.xml</span></strong><span class="koboSpan" id="kobo.235.1" xmlns="http://www.w3.org/1999/xhtml"> of our app in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.236.1" xmlns="http://www.w3.org/1999/xhtml">Listing 12.1</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.237.1" xmlns="http://www.w3.org/1999/xhtml">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.238.1" xmlns="http://www.w3.org/1999/xhtml">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest
  xmlns:android="http://schemas.android.com/apk/res/android"
  package="com.passxyz.vault2"                            ❶
  android:installLocation="auto"
  android:versionCode="1"&gt;                                ❷
  &lt;application
android:allowBackup="true"
android:icon="@mipmap/appicon"
android:roundIcon="@mipmap/appicon_round"
android:supportsRtl="true"&gt;&lt;/application&gt;
  &lt;uses-permission
    android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
  &lt;uses-permission android:name=
    "android.permission.INTERNET" /&gt;
&lt;/manifest&gt;</span></pre>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.239.1" xmlns="http://www.w3.org/1999/xhtml">Listing 12.1: AndroidManifest.xml (https://epa.ms/AndroidManifest12-1)</span></p>
<p><span class="koboSpan" id="kobo.240.1" xmlns="http://www.w3.org/1999/xhtml">In our app, the</span><a id="_idIndexMarker881"/><span class="koboSpan" id="kobo.241.1" xmlns="http://www.w3.org/1999/xhtml"> application ID is </span><strong class="source-inline"><span class="koboSpan" id="kobo.242.1" xmlns="http://www.w3.org/1999/xhtml">"com.passxyz.vault2"</span></strong><span class="koboSpan" id="kobo.243.1" xmlns="http://www.w3.org/1999/xhtml"> ❶, which is generated from </span><strong class="source-inline"><span class="koboSpan" id="kobo.244.1" xmlns="http://www.w3.org/1999/xhtml">ApplicationId</span></strong><span class="koboSpan" id="kobo.245.1" xmlns="http://www.w3.org/1999/xhtml">, and the version is the value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.246.1" xmlns="http://www.w3.org/1999/xhtml">android:versionCode</span></strong><span class="koboSpan" id="kobo.247.1" xmlns="http://www.w3.org/1999/xhtml"> ❷, which is generated </span><span class="No-Break"><span class="koboSpan" id="kobo.248.1" xmlns="http://www.w3.org/1999/xhtml">from </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.249.1" xmlns="http://www.w3.org/1999/xhtml">ApplicationVersion</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.250.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<p><span class="koboSpan" id="kobo.251.1" xmlns="http://www.w3.org/1999/xhtml">Here is the declaration of the app identifier and version in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.252.1" xmlns="http://www.w3.org/1999/xhtml">PassXYZ.Vault.csproj</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.253.1" xmlns="http://www.w3.org/1999/xhtml">project file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.254.1" xmlns="http://www.w3.org/1999/xhtml">
&lt;!-- App Identifier --&gt;
&lt;ApplicationId&gt;com.passxyz.vault2&lt;/ApplicationId&gt;
&lt;ApplicationIdGuid&gt;8606B3B5-C03C-41D7-825F-B33718CF791C
  &lt;/ApplicationIdGuid&gt;
&lt;!-- Versions --&gt;
&lt;ApplicationDisplayVersion&gt;1.0&lt;/ApplicationDisplayVersion&gt;
&lt;ApplicationVersion&gt;1&lt;/ApplicationVersion&gt;</span></pre>
<p><span class="koboSpan" id="kobo.255.1" xmlns="http://www.w3.org/1999/xhtml">To sign an Android package, we need to create a Keystore file. </span><span class="koboSpan" id="kobo.255.2" xmlns="http://www.w3.org/1999/xhtml">Please refer to the following Android document for information</span><a id="_idIndexMarker882"/><span class="koboSpan" id="kobo.256.1" xmlns="http://www.w3.org/1999/xhtml"> on how to create a Keystore file and sign an </span><span class="No-Break"><span class="koboSpan" id="kobo.257.1" xmlns="http://www.w3.org/1999/xhtml">Android app:</span></span></p>
<p><a href="https://developer.android.com/studio/publish/app-signing"><span class="No-Break"><span class="koboSpan" id="kobo.258.1" xmlns="http://www.w3.org/1999/xhtml">https://developer.android.com/studio/publish/app-signing</span></span></a></p>
<p><span class="koboSpan" id="kobo.259.1" xmlns="http://www.w3.org/1999/xhtml">Once we have a Keystore file and have prepared the preceding configuration, we need to set the target framework as </span><strong class="bold"><span class="koboSpan" id="kobo.260.1" xmlns="http://www.w3.org/1999/xhtml">net6.0-android</span></strong><span class="koboSpan" id="kobo.261.1" xmlns="http://www.w3.org/1999/xhtml"> and set the build type as </span><strong class="bold"><span class="koboSpan" id="kobo.262.1" xmlns="http://www.w3.org/1999/xhtml">Release</span></strong><span class="koboSpan" id="kobo.263.1" xmlns="http://www.w3.org/1999/xhtml"> in </span><span class="No-Break"><span class="koboSpan" id="kobo.264.1" xmlns="http://www.w3.org/1999/xhtml">Visual Studio.</span></span></p>
<p><span class="koboSpan" id="kobo.265.1" xmlns="http://www.w3.org/1999/xhtml">We can right-click now the project node and select </span><strong class="bold"><span class="koboSpan" id="kobo.266.1" xmlns="http://www.w3.org/1999/xhtml">Publish…</span></strong><span class="koboSpan" id="kobo.267.1" xmlns="http://www.w3.org/1999/xhtml">. </span><span class="koboSpan" id="kobo.267.2" xmlns="http://www.w3.org/1999/xhtml">After that, the build will start and we can see</span><a id="_idIndexMarker883"/><span class="koboSpan" id="kobo.268.1" xmlns="http://www.w3.org/1999/xhtml"> an archive has been created, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.269.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.270.1" xmlns="http://www.w3.org/1999/xhtml">.6</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.271.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer122">
<span class="koboSpan" id="kobo.272.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.6: Creating an archive for Android" src="image/Figure_12.06_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.273.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.6: Creating an archive for Android</span></p>
<p><span class="koboSpan" id="kobo.274.1" xmlns="http://www.w3.org/1999/xhtml">Once the package is created, we can sign it by clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.275.1" xmlns="http://www.w3.org/1999/xhtml">Distribute …</span></strong><span class="koboSpan" id="kobo.276.1" xmlns="http://www.w3.org/1999/xhtml"> button, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.277.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.278.1" xmlns="http://www.w3.org/1999/xhtml">.6</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.279.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer123">
<span class="koboSpan" id="kobo.280.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.7: Selecting a channel" src="image/Figure_12.07_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.281.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.7: Selecting a channel</span></p>
<p><span class="koboSpan" id="kobo.282.1" xmlns="http://www.w3.org/1999/xhtml">Once we click the </span><strong class="bold"><span class="koboSpan" id="kobo.283.1" xmlns="http://www.w3.org/1999/xhtml">Distribute …</span></strong><span class="koboSpan" id="kobo.284.1" xmlns="http://www.w3.org/1999/xhtml"> button, we need to select</span><a id="_idIndexMarker884"/><span class="koboSpan" id="kobo.285.1" xmlns="http://www.w3.org/1999/xhtml"> a distribution channel, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.286.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.287.1" xmlns="http://www.w3.org/1999/xhtml">.7</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.288.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<p><span class="koboSpan" id="kobo.289.1" xmlns="http://www.w3.org/1999/xhtml">It is possible to sign and submit the package by selecting </span><strong class="bold"><span class="koboSpan" id="kobo.290.1" xmlns="http://www.w3.org/1999/xhtml">Google Play</span></strong><span class="koboSpan" id="kobo.291.1" xmlns="http://www.w3.org/1999/xhtml">, but we will select </span><strong class="bold"><span class="koboSpan" id="kobo.292.1" xmlns="http://www.w3.org/1999/xhtml">Ad Hoc</span></strong><span class="koboSpan" id="kobo.293.1" xmlns="http://www.w3.org/1999/xhtml"> to sign it. </span><span class="koboSpan" id="kobo.293.2" xmlns="http://www.w3.org/1999/xhtml">We will submit the signed package to Google Play </span><span class="No-Break"><span class="koboSpan" id="kobo.294.1" xmlns="http://www.w3.org/1999/xhtml">manually later.</span></span></p>
<p><span class="koboSpan" id="kobo.295.1" xmlns="http://www.w3.org/1999/xhtml">Once we select </span><strong class="bold"><span class="koboSpan" id="kobo.296.1" xmlns="http://www.w3.org/1999/xhtml">Ad Hoc</span></strong><span class="koboSpan" id="kobo.297.1" xmlns="http://www.w3.org/1999/xhtml">, we can see a different screen as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.298.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.299.1" xmlns="http://www.w3.org/1999/xhtml">.8</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.300.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer124">
<span class="koboSpan" id="kobo.301.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.8: Signing Identity using a Keystore file" src="image/Figure_12.08_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.302.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.8: Signing Identity using a Keystore file</span></p>
<p><span class="koboSpan" id="kobo.303.1" xmlns="http://www.w3.org/1999/xhtml">As shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.304.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.305.1" xmlns="http://www.w3.org/1999/xhtml">.8</span></em><span class="koboSpan" id="kobo.306.1" xmlns="http://www.w3.org/1999/xhtml">, we can click the </span><strong class="bold"><span class="koboSpan" id="kobo.307.1" xmlns="http://www.w3.org/1999/xhtml">+</span></strong><span class="koboSpan" id="kobo.308.1" xmlns="http://www.w3.org/1999/xhtml"> button to add</span><a id="_idIndexMarker885"/><span class="koboSpan" id="kobo.309.1" xmlns="http://www.w3.org/1999/xhtml"> a Keystore file. </span><span class="koboSpan" id="kobo.309.2" xmlns="http://www.w3.org/1999/xhtml">After that, we can click the </span><strong class="bold"><span class="koboSpan" id="kobo.310.1" xmlns="http://www.w3.org/1999/xhtml">Save As</span></strong><span class="koboSpan" id="kobo.311.1" xmlns="http://www.w3.org/1999/xhtml"> button to sign </span><span class="No-Break"><span class="koboSpan" id="kobo.312.1" xmlns="http://www.w3.org/1999/xhtml">the package.</span></span></p>
<p><span class="koboSpan" id="kobo.313.1" xmlns="http://www.w3.org/1999/xhtml">The signed </span><strong class="source-inline"><span class="koboSpan" id="kobo.314.1" xmlns="http://www.w3.org/1999/xhtml">.aab</span></strong><span class="koboSpan" id="kobo.315.1" xmlns="http://www.w3.org/1999/xhtml"> file can be submitted to the Google Play Store in the Google </span><span class="No-Break"><span class="koboSpan" id="kobo.316.1" xmlns="http://www.w3.org/1999/xhtml">Play Console.</span></span></p>
<p><span class="koboSpan" id="kobo.317.1" xmlns="http://www.w3.org/1999/xhtml">If you don’t have an existing Keystore file, you may want to follow the guide to creating a new one. </span><span class="koboSpan" id="kobo.317.2" xmlns="http://www.w3.org/1999/xhtml">The default location of Keystore files is at </span><strong class="source-inline"><span class="koboSpan" id="kobo.318.1" xmlns="http://www.w3.org/1999/xhtml">%USERPROFILE%\AppData\Local\Xamarin\Mono </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.319.1" xmlns="http://www.w3.org/1999/xhtml">for Android\Keystore\</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.320.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<p><span class="koboSpan" id="kobo.321.1" xmlns="http://www.w3.org/1999/xhtml">To create the package from the command line, we can execute the following command in the </span><span class="No-Break"><span class="koboSpan" id="kobo.322.1" xmlns="http://www.w3.org/1999/xhtml">project folder:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.323.1" xmlns="http://www.w3.org/1999/xhtml">
dotnet publish PassXYZ.Vault/PassXYZ.Vault.csproj -c Release -f net6.0-android</span></pre>
<p><span class="koboSpan" id="kobo.324.1" xmlns="http://www.w3.org/1999/xhtml">To learn how to upload a signed Android App Bundle to the Google Play Store, please refer</span><a id="_idIndexMarker886"/><span class="koboSpan" id="kobo.325.1" xmlns="http://www.w3.org/1999/xhtml"> to the following</span><a id="_idIndexMarker887"/> <span class="No-Break"><span class="koboSpan" id="kobo.326.1" xmlns="http://www.w3.org/1999/xhtml">Android document:</span></span></p>
<p><a href="https://developer.android.com/studio/publish/upload-bundle"><span class="No-Break"><span class="koboSpan" id="kobo.327.1" xmlns="http://www.w3.org/1999/xhtml">https://developer.android.com/studio/publish/upload-bundle</span></span></a></p>
<h2 id="_idParaDest-232"><a id="_idTextAnchor248"/><span class="koboSpan" id="kobo.328.1" xmlns="http://www.w3.org/1999/xhtml">Publishing to Apple’s App Store</span></h2>
<p><span class="koboSpan" id="kobo.329.1" xmlns="http://www.w3.org/1999/xhtml">We can introduce the submission</span><a id="_idIndexMarker888"/><span class="koboSpan" id="kobo.330.1" xmlns="http://www.w3.org/1999/xhtml"> of an iOS or macOS app in the App Store together since they have </span><span class="No-Break"><span class="koboSpan" id="kobo.331.1" xmlns="http://www.w3.org/1999/xhtml">many similarities.</span></span></p>
<p><span class="koboSpan" id="kobo.332.1" xmlns="http://www.w3.org/1999/xhtml">In iOS or macOS apps, bundler identifier and bundler version are used to identify an app. </span><span class="koboSpan" id="kobo.332.2" xmlns="http://www.w3.org/1999/xhtml">This information is stored in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.333.1" xmlns="http://www.w3.org/1999/xhtml">Info.plist</span></strong><span class="koboSpan" id="kobo.334.1" xmlns="http://www.w3.org/1999/xhtml"> configuration file. </span><span class="koboSpan" id="kobo.334.2" xmlns="http://www.w3.org/1999/xhtml">The bundler identifier is generated from </span><strong class="source-inline"><span class="koboSpan" id="kobo.335.1" xmlns="http://www.w3.org/1999/xhtml">ApplicationId</span></strong><span class="koboSpan" id="kobo.336.1" xmlns="http://www.w3.org/1999/xhtml"> and the bundler version is generated from </span><strong class="source-inline"><span class="koboSpan" id="kobo.337.1" xmlns="http://www.w3.org/1999/xhtml">ApplicationVersion</span></strong><span class="koboSpan" id="kobo.338.1" xmlns="http://www.w3.org/1999/xhtml"> in the Visual Studio </span><span class="No-Break"><span class="koboSpan" id="kobo.339.1" xmlns="http://www.w3.org/1999/xhtml">project file.</span></span></p>
<p><span class="koboSpan" id="kobo.340.1" xmlns="http://www.w3.org/1999/xhtml">To sign the package, we need a signing certificate and a provisioning profile. </span><span class="koboSpan" id="kobo.340.2" xmlns="http://www.w3.org/1999/xhtml">To create a signing certificate and a provisioning </span><a id="_idIndexMarker889"/><span class="koboSpan" id="kobo.341.1" xmlns="http://www.w3.org/1999/xhtml">profile, we can refer to the </span><span class="No-Break"><span class="koboSpan" id="kobo.342.1" xmlns="http://www.w3.org/1999/xhtml">following document:</span></span></p>
<p><a href="https://learn.microsoft.com/en-us/dotnet/maui/ios/deployment/provision"><span class="No-Break"><span class="koboSpan" id="kobo.343.1" xmlns="http://www.w3.org/1999/xhtml">https://learn.microsoft.com/en-us/dotnet/maui/ios/deployment/provision</span></span></a></p>
<p><span class="koboSpan" id="kobo.344.1" xmlns="http://www.w3.org/1999/xhtml">iOS apps can be distributed through the App Store only. </span><span class="koboSpan" id="kobo.344.2" xmlns="http://www.w3.org/1999/xhtml">The package for the submission is a file with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.345.1" xmlns="http://www.w3.org/1999/xhtml">.ipa</span></strong><span class="koboSpan" id="kobo.346.1" xmlns="http://www.w3.org/1999/xhtml"> extension. </span><span class="koboSpan" id="kobo.346.2" xmlns="http://www.w3.org/1999/xhtml">macOS apps can also be distributed through the App Store, but the package itself can be </span><span class="No-Break"><span class="koboSpan" id="kobo.347.1" xmlns="http://www.w3.org/1999/xhtml">installed directly.</span></span></p>
<p><span class="koboSpan" id="kobo.348.1" xmlns="http://www.w3.org/1999/xhtml">Even though we can do some of the publishing steps in the Windows environment, we still need to connect to a network-accessible macOS computer. </span><span class="koboSpan" id="kobo.348.2" xmlns="http://www.w3.org/1999/xhtml">To reduce the complexity, we use a macOS environment for the build of both iOS and macOS apps. </span><span class="koboSpan" id="kobo.348.3" xmlns="http://www.w3.org/1999/xhtml">Before we build the packages, we need to update the Visual Studio project file to configure our own signing certificate and </span><span class="No-Break"><span class="koboSpan" id="kobo.349.1" xmlns="http://www.w3.org/1999/xhtml">distribution profile:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.350.1" xmlns="http://www.w3.org/1999/xhtml">
&lt;PropertyGroup Condition="$(TargetFramework.Contains('-ios')) and '$(Configuration)' == 'Release'"&gt;
  &lt;RuntimeIdentifier&gt;ios-arm64&lt;/RuntimeIdentifier&gt;
  &lt;CodesignKey&gt;iPhone Distribution: Shugao Ye (W9WL9WPD24)
  &lt;/CodesignKey&gt;
  &lt;CodesignProvision&gt;passxyz_2022&lt;/CodesignProvision&gt;
&lt;/PropertyGroup&gt;
&lt;PropertyGroup Condition="$(TargetFramework.Contains('-
  maccatalyst')) and '$(Configuration)' == 'Release'"&gt;
  &lt;CodesignEntitlement&gt;Entitlements.plist
  &lt;/CodesignEntitlement&gt;
  &lt;CodesignKey&gt;
    3rd Party Mac Developer Application: Shugao Ye
      (W9WL9WPD24)
  &lt;/CodesignKey&gt;
  &lt;CodesignProvision&gt;passxyz.maccatalyst&lt;/CodesignProvision&gt;
&lt;/PropertyGroup&gt;</span></pre>
<p><span class="koboSpan" id="kobo.351.1" xmlns="http://www.w3.org/1999/xhtml">As we can see, we can use</span><a id="_idIndexMarker890"/><span class="koboSpan" id="kobo.352.1" xmlns="http://www.w3.org/1999/xhtml"> conditional configuration for both iOS and macOS builds. </span><span class="koboSpan" id="kobo.352.2" xmlns="http://www.w3.org/1999/xhtml">Different signing certificates and distribution profiles are used for iOS </span><span class="No-Break"><span class="koboSpan" id="kobo.353.1" xmlns="http://www.w3.org/1999/xhtml">and macOS.</span></span></p>
<p><span class="koboSpan" id="kobo.354.1" xmlns="http://www.w3.org/1999/xhtml">In Visual Studio for macOS, we can also configure signing certificates and distribution profiles in project settings for iOS, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.355.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.356.1" xmlns="http://www.w3.org/1999/xhtml">.9</span></em><span class="koboSpan" id="kobo.357.1" xmlns="http://www.w3.org/1999/xhtml">. </span><span class="koboSpan" id="kobo.357.2" xmlns="http://www.w3.org/1999/xhtml">This setting is not supported for macOS yet at the moment, but you may find it is already available when you read </span><span class="No-Break"><span class="koboSpan" id="kobo.358.1" xmlns="http://www.w3.org/1999/xhtml">this book.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer125">
<span class="koboSpan" id="kobo.359.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.9: The configuration bundle signing" src="image/Figure_12.09_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.360.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.9: The configuration bundle signing</span></p>
<p><span class="koboSpan" id="kobo.361.1" xmlns="http://www.w3.org/1999/xhtml">If we are not sure whether the setting</span><a id="_idIndexMarker891"/><span class="koboSpan" id="kobo.362.1" xmlns="http://www.w3.org/1999/xhtml"> is correct or not, we can verify it using </span><strong class="bold"><span class="koboSpan" id="kobo.363.1" xmlns="http://www.w3.org/1999/xhtml">Xcode</span></strong><span class="koboSpan" id="kobo.364.1" xmlns="http://www.w3.org/1999/xhtml">. </span><span class="koboSpan" id="kobo.364.2" xmlns="http://www.w3.org/1999/xhtml">We can create an app in Xcode</span><a id="_idIndexMarker892"/><span class="koboSpan" id="kobo.365.1" xmlns="http://www.w3.org/1999/xhtml"> using the same </span><strong class="source-inline"><span class="koboSpan" id="kobo.366.1" xmlns="http://www.w3.org/1999/xhtml">"com.passxyz.vault2"</span></strong><span class="koboSpan" id="kobo.367.1" xmlns="http://www.w3.org/1999/xhtml">  bundler ID as our app. </span><span class="koboSpan" id="kobo.367.2" xmlns="http://www.w3.org/1999/xhtml">After that, we can check the configuration of </span><strong class="bold"><span class="koboSpan" id="kobo.368.1" xmlns="http://www.w3.org/1999/xhtml">Signing</span></strong><span class="koboSpan" id="kobo.369.1" xmlns="http://www.w3.org/1999/xhtml">, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.370.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.371.1" xmlns="http://www.w3.org/1999/xhtml">.10</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.372.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer126">
<span class="koboSpan" id="kobo.373.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.10: The iOS signing settings in Xcode" src="image/Figure_12.10_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.374.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.10: The iOS signing settings in Xcode</span></p>
<p><span class="koboSpan" id="kobo.375.1" xmlns="http://www.w3.org/1999/xhtml">If there is any issue with the signing</span><a id="_idIndexMarker893"/><span class="koboSpan" id="kobo.376.1" xmlns="http://www.w3.org/1999/xhtml"> certificate or provisioning profile, we can see error messages reported by Xcode. </span><span class="koboSpan" id="kobo.376.2" xmlns="http://www.w3.org/1999/xhtml">Once the setting is correct in Xcode, the same setting can be used in Visual Studio project without </span><span class="No-Break"><span class="koboSpan" id="kobo.377.1" xmlns="http://www.w3.org/1999/xhtml">any issues.</span></span></p>
<p><span class="koboSpan" id="kobo.378.1" xmlns="http://www.w3.org/1999/xhtml">With all the configurations ready, we can build the </span><strong class="source-inline"><span class="koboSpan" id="kobo.379.1" xmlns="http://www.w3.org/1999/xhtml">.ipa</span></strong><span class="koboSpan" id="kobo.380.1" xmlns="http://www.w3.org/1999/xhtml"> file in the project folder using the </span><span class="No-Break"><span class="koboSpan" id="kobo.381.1" xmlns="http://www.w3.org/1999/xhtml">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.382.1" xmlns="http://www.w3.org/1999/xhtml">
dotnet publish PassXYZ.Vault/PassXYZ.Vault.csproj -c Release -f net6.0-ios /p:CreatePackage=true /p:ArchiveOnBuild=True</span></pre>
<p><span class="koboSpan" id="kobo.383.1" xmlns="http://www.w3.org/1999/xhtml">Once the preceding command executes successfully, an </span><strong class="source-inline"><span class="koboSpan" id="kobo.384.1" xmlns="http://www.w3.org/1999/xhtml">.ipa</span></strong><span class="koboSpan" id="kobo.385.1" xmlns="http://www.w3.org/1999/xhtml"> file is generated. </span><span class="koboSpan" id="kobo.385.2" xmlns="http://www.w3.org/1999/xhtml">We can submit this file to the App Store. </span><span class="koboSpan" id="kobo.385.3" xmlns="http://www.w3.org/1999/xhtml">There are three methods that can be used to upload a package to the App Store. </span><span class="koboSpan" id="kobo.385.4" xmlns="http://www.w3.org/1999/xhtml">Please refer to the following document to find out </span><span class="No-Break"><span class="koboSpan" id="kobo.386.1" xmlns="http://www.w3.org/1999/xhtml">more details:</span></span></p>
<p><a href="https://help.apple.com/app-store-connect/#/devb1c185036"><span class="No-Break"><span class="koboSpan" id="kobo.387.1" xmlns="http://www.w3.org/1999/xhtml">https://help.apple.com/app-store-connect/#/devb1c185036</span></span></a></p>
<p><span class="koboSpan" id="kobo.388.1" xmlns="http://www.w3.org/1999/xhtml">From the preceding document, we know that we can use Xcode, altool, or Transporter to upload </span><span class="No-Break"><span class="koboSpan" id="kobo.389.1" xmlns="http://www.w3.org/1999/xhtml">a package.</span></span></p>
<p><span class="koboSpan" id="kobo.390.1" xmlns="http://www.w3.org/1999/xhtml">We will use the Transporter app here. </span><span class="koboSpan" id="kobo.390.2" xmlns="http://www.w3.org/1999/xhtml">After we sign in using the Transporter app, we can upload the package to the App Store, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.391.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.392.1" xmlns="http://www.w3.org/1999/xhtml">.11</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.393.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer127">
<span class="koboSpan" id="kobo.394.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.11: Uploading a package using the Transporter app" src="image/Figure_12.11_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.395.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.11: Uploading a package using the Transporter app</span></p>
<p><span class="koboSpan" id="kobo.396.1" xmlns="http://www.w3.org/1999/xhtml">The building and uploading processes</span><a id="_idIndexMarker894"/><span class="koboSpan" id="kobo.397.1" xmlns="http://www.w3.org/1999/xhtml"> of a macOS package are similar to those for an iOS app. </span><span class="koboSpan" id="kobo.397.2" xmlns="http://www.w3.org/1999/xhtml">There are three different frameworks (AppKit, MacCatalyst, and SwiftUI) that can be used to build macOS apps. </span><span class="koboSpan" id="kobo.397.3" xmlns="http://www.w3.org/1999/xhtml">In .NET MAUI, MacCatalyst is used in the </span><span class="No-Break"><span class="koboSpan" id="kobo.398.1" xmlns="http://www.w3.org/1999/xhtml">platform-specific implementation.</span></span></p>
<p><span class="koboSpan" id="kobo.399.1" xmlns="http://www.w3.org/1999/xhtml">By default, App Sandbox is not enabled in MacCatalyst apps, so we need to enable it. </span><span class="koboSpan" id="kobo.399.2" xmlns="http://www.w3.org/1999/xhtml">To enable it in the macOS app, we need to add an </span><strong class="source-inline"><span class="koboSpan" id="kobo.400.1" xmlns="http://www.w3.org/1999/xhtml">Entitlements.plist</span></strong><span class="koboSpan" id="kobo.401.1" xmlns="http://www.w3.org/1999/xhtml"> file in the build configuration. </span><span class="koboSpan" id="kobo.401.2" xmlns="http://www.w3.org/1999/xhtml">We can review the </span><strong class="source-inline"><span class="koboSpan" id="kobo.402.1" xmlns="http://www.w3.org/1999/xhtml">Entitlements.plist</span></strong><span class="koboSpan" id="kobo.403.1" xmlns="http://www.w3.org/1999/xhtml"> file in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.404.1" xmlns="http://www.w3.org/1999/xhtml">Listing 12.2</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.405.1" xmlns="http://www.w3.org/1999/xhtml">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.406.1" xmlns="http://www.w3.org/1999/xhtml">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN"
  "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
&lt;dict&gt;
  &lt;key&gt;com.apple.security.app-sandbox&lt;/key&gt;
  &lt;true/&gt;
  &lt;key&gt;com.apple.security.files.user-selected.read-only
    &lt;/key&gt;
  &lt;true/&gt;
  &lt;key&gt;com.apple.security.network.client&lt;/key&gt;
  &lt;true/&gt;
&lt;/dict&gt;
&lt;/plist&gt;</span></pre>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.407.1" xmlns="http://www.w3.org/1999/xhtml">Listing 12.2: Entitlements.plist (https://epa.ms/Entitlements12-2)</span></p>
<p><span class="koboSpan" id="kobo.408.1" xmlns="http://www.w3.org/1999/xhtml">We cannot verify the configuration</span><a id="_idIndexMarker895"/><span class="koboSpan" id="kobo.409.1" xmlns="http://www.w3.org/1999/xhtml"> of the signing certificate and provisioning profile in Visual Studio for macOS at the moment, but we can verify it in Xcode, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.410.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.411.1" xmlns="http://www.w3.org/1999/xhtml">.12</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.412.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer128">
<span class="koboSpan" id="kobo.413.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.12: The macOS app’s Signing settings in Xcode" src="image/Figure_12.12_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.414.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.12: The macOS app’s Signing settings in Xcode</span></p>
<p><span class="koboSpan" id="kobo.415.1" xmlns="http://www.w3.org/1999/xhtml">With all configurations ready, we can build the package in our project folder using the </span><span class="No-Break"><span class="koboSpan" id="kobo.416.1" xmlns="http://www.w3.org/1999/xhtml">following command:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.417.1" xmlns="http://www.w3.org/1999/xhtml">
dotnet publish PassXYZ.Vault/PassXYZ.Vault.csproj -c Release -f net6.0-maccatalyst  /p:CreatePackage=true /p:EnablePackageSigning=true"</span></pre>
<p><span class="koboSpan" id="kobo.418.1" xmlns="http://www.w3.org/1999/xhtml">After we build the package</span><a id="_idIndexMarker896"/><span class="koboSpan" id="kobo.419.1" xmlns="http://www.w3.org/1999/xhtml"> successfully, we can upload the </span><strong class="source-inline"><span class="koboSpan" id="kobo.420.1" xmlns="http://www.w3.org/1999/xhtml">.pkg</span></strong><span class="koboSpan" id="kobo.421.1" xmlns="http://www.w3.org/1999/xhtml"> file to the App Store using the Transporter app, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.422.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.423.1" xmlns="http://www.w3.org/1999/xhtml">.13</span></em><span class="koboSpan" id="kobo.424.1" xmlns="http://www.w3.org/1999/xhtml">. </span><span class="koboSpan" id="kobo.424.2" xmlns="http://www.w3.org/1999/xhtml">We can see that we have uploaded both iOS and macOS packages to the App </span><span class="No-Break"><span class="koboSpan" id="kobo.425.1" xmlns="http://www.w3.org/1999/xhtml">Store successfully.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer129">
<span class="koboSpan" id="kobo.426.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.13: Uploading the macOS app using the Transporter app" src="image/Figure_12.13_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.427.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.13: Uploading the macOS app using the Transporter app</span></p>
<p><span class="koboSpan" id="kobo.428.1" xmlns="http://www.w3.org/1999/xhtml">After we have uploaded packages to Microsoft Store, the Google Play Store, and the App Store, we can test the uploaded packages before the final release using the testing tools provided by </span><span class="No-Break"><span class="koboSpan" id="kobo.429.1" xmlns="http://www.w3.org/1999/xhtml">the stores:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.430.1" xmlns="http://www.w3.org/1999/xhtml">The App Store – </span><strong class="bold"><span class="koboSpan" id="kobo.431.1" xmlns="http://www.w3.org/1999/xhtml">TestFlight</span></strong><span class="koboSpan" id="kobo.432.1" xmlns="http://www.w3.org/1999/xhtml"> can be used to test iOS/macOS</span><a id="_idIndexMarker897"/><span class="koboSpan" id="kobo.433.1" xmlns="http://www.w3.org/1999/xhtml"> apps before the </span><span class="No-Break"><span class="koboSpan" id="kobo.434.1" xmlns="http://www.w3.org/1999/xhtml">production release</span></span></li>
<li><span class="koboSpan" id="kobo.435.1" xmlns="http://www.w3.org/1999/xhtml">The Google Play Store – Alpha or Beta testing can be set up before the </span><span class="No-Break"><span class="koboSpan" id="kobo.436.1" xmlns="http://www.w3.org/1999/xhtml">production release</span></span></li>
<li><span class="koboSpan" id="kobo.437.1" xmlns="http://www.w3.org/1999/xhtml">Microsoft Store – Package flights can be used on Microsoft Store to test </span><span class="No-Break"><span class="koboSpan" id="kobo.438.1" xmlns="http://www.w3.org/1999/xhtml">uploaded packages</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.439.1" xmlns="http://www.w3.org/1999/xhtml">We have learned the basic steps</span><a id="_idIndexMarker898"/><span class="koboSpan" id="kobo.440.1" xmlns="http://www.w3.org/1999/xhtml"> of how to prepare application packages for supported platforms. </span><span class="koboSpan" id="kobo.440.2" xmlns="http://www.w3.org/1999/xhtml">With all this in mind, we can explore how to set</span><a id="_idIndexMarker899"/><span class="koboSpan" id="kobo.441.1" xmlns="http://www.w3.org/1999/xhtml"> up the automated build of .NET MAUI app in a </span><strong class="bold"><span class="koboSpan" id="kobo.442.1" xmlns="http://www.w3.org/1999/xhtml">continuous integration and continuous delivery</span></strong><span class="koboSpan" id="kobo.443.1" xmlns="http://www.w3.org/1999/xhtml"> (</span><strong class="bold"><span class="koboSpan" id="kobo.444.1" xmlns="http://www.w3.org/1999/xhtml">CI/CD</span></strong><span class="koboSpan" id="kobo.445.1" xmlns="http://www.w3.org/1999/xhtml">) environment such as GitHub Actions or </span><span class="No-Break"><span class="koboSpan" id="kobo.446.1" xmlns="http://www.w3.org/1999/xhtml">Azure DevOps.</span></span></p>
<h1 id="_idParaDest-233"><a id="_idTextAnchor249"/><span class="koboSpan" id="kobo.447.1" xmlns="http://www.w3.org/1999/xhtml">GitHub Actions</span></h1>
<p><span class="koboSpan" id="kobo.448.1" xmlns="http://www.w3.org/1999/xhtml">Since our source code</span><a id="_idIndexMarker900"/><span class="koboSpan" id="kobo.449.1" xmlns="http://www.w3.org/1999/xhtml"> is hosted in GitHub, we will use GitHub Actions as an example to introduce how to set up CI workflows for .NET </span><span class="No-Break"><span class="koboSpan" id="kobo.450.1" xmlns="http://www.w3.org/1999/xhtml">MAUI development.</span></span></p>
<h2 id="_idParaDest-234"><a id="_idTextAnchor250"/><span class="koboSpan" id="kobo.451.1" xmlns="http://www.w3.org/1999/xhtml">Understanding GitHub Actions</span></h2>
<p><span class="koboSpan" id="kobo.452.1" xmlns="http://www.w3.org/1999/xhtml">GitHub Actions is a CI/CD platform that can be used to support the automation of deployment. </span><span class="koboSpan" id="kobo.452.2" xmlns="http://www.w3.org/1999/xhtml">For .NET MAUI app development, our target is to build, test, and deploy our apps to app stores or specified publishing channels. </span><span class="koboSpan" id="kobo.452.3" xmlns="http://www.w3.org/1999/xhtml">In this section, we will focus on CI using GitHub Actions rather than both CI and CD. </span><span class="koboSpan" id="kobo.452.4" xmlns="http://www.w3.org/1999/xhtml">To deploy apps to various stores, there are many account-specific setup steps, please</span><a id="_idIndexMarker901"/><span class="koboSpan" id="kobo.453.1" xmlns="http://www.w3.org/1999/xhtml"> refer to the .NET MAUI document for </span><span class="No-Break"><span class="koboSpan" id="kobo.454.1" xmlns="http://www.w3.org/1999/xhtml">the details:</span></span></p>
<p><a href="https://learn.microsoft.com/en-us/dotnet/maui/deployment/"><span class="No-Break"><span class="koboSpan" id="kobo.455.1" xmlns="http://www.w3.org/1999/xhtml">https://learn.microsoft.com/en-us/dotnet/maui/deployment/</span></span></a></p>
<p><span class="koboSpan" id="kobo.456.1" xmlns="http://www.w3.org/1999/xhtml">The GitHub Actions workflow is a process to automatically build and deploy the deliverables from a project. </span><span class="koboSpan" id="kobo.456.2" xmlns="http://www.w3.org/1999/xhtml">The workflow usually starts from an event such as a </span><strong class="source-inline"><span class="koboSpan" id="kobo.457.1" xmlns="http://www.w3.org/1999/xhtml">push</span></strong><span class="koboSpan" id="kobo.458.1" xmlns="http://www.w3.org/1999/xhtml"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.459.1" xmlns="http://www.w3.org/1999/xhtml">pull_request</span></strong><span class="koboSpan" id="kobo.460.1" xmlns="http://www.w3.org/1999/xhtml"> event or when an issue is submitted. </span><span class="koboSpan" id="kobo.460.2" xmlns="http://www.w3.org/1999/xhtml">Once a workflow is triggered, the defined jobs will start to perform certain tasks inside a runner. </span><span class="koboSpan" id="kobo.460.3" xmlns="http://www.w3.org/1999/xhtml">Each job consists of one or more steps that either run a script or </span><span class="No-Break"><span class="koboSpan" id="kobo.461.1" xmlns="http://www.w3.org/1999/xhtml">an action.</span></span></p>
<p><span class="koboSpan" id="kobo.462.1" xmlns="http://www.w3.org/1999/xhtml">In summary, GitHub Actions include events, runners, jobs/steps, actions, </span><span class="No-Break"><span class="koboSpan" id="kobo.463.1" xmlns="http://www.w3.org/1999/xhtml">and runners.</span></span></p>
<h3><span class="koboSpan" id="kobo.464.1" xmlns="http://www.w3.org/1999/xhtml">Workflows</span></h3>
<p><span class="koboSpan" id="kobo.465.1" xmlns="http://www.w3.org/1999/xhtml">GitHub Actions workflows</span><a id="_idIndexMarker902"/><span class="koboSpan" id="kobo.466.1" xmlns="http://www.w3.org/1999/xhtml"> are defined by a YAML file in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.467.1" xmlns="http://www.w3.org/1999/xhtml">.github/workflows</span></strong><span class="koboSpan" id="kobo.468.1" xmlns="http://www.w3.org/1999/xhtml"> directory. </span><span class="koboSpan" id="kobo.468.2" xmlns="http://www.w3.org/1999/xhtml">YAML is a superset of JSON and it is a better human-readable language. </span><span class="koboSpan" id="kobo.468.3" xmlns="http://www.w3.org/1999/xhtml">A repository can have one or multiple workflows to perform different jobs. </span><span class="koboSpan" id="kobo.468.4" xmlns="http://www.w3.org/1999/xhtml">Take a look at </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.469.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.470.1" xmlns="http://www.w3.org/1999/xhtml">.14</span></em><span class="koboSpan" id="kobo.471.1" xmlns="http://www.w3.org/1999/xhtml"> to understand the workflow defined in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.472.1" xmlns="http://www.w3.org/1999/xhtml">PassXYZ.Vault</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.473.1" xmlns="http://www.w3.org/1999/xhtml"> project.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer130">
<span class="koboSpan" id="kobo.474.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.14: The workflow of Windows runner" src="image/Figure_12.14_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.475.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.14: The workflow of Windows runner</span></p>
<p><span class="koboSpan" id="kobo.476.1" xmlns="http://www.w3.org/1999/xhtml">As we can see in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.477.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.478.1" xmlns="http://www.w3.org/1999/xhtml">.14</span></em><span class="koboSpan" id="kobo.479.1" xmlns="http://www.w3.org/1999/xhtml">, this is an example of how workflow performs Android and Windows builds. </span><span class="koboSpan" id="kobo.479.2" xmlns="http://www.w3.org/1999/xhtml">A workflow is triggered by a </span><strong class="source-inline"><span class="koboSpan" id="kobo.480.1" xmlns="http://www.w3.org/1999/xhtml">push</span></strong><span class="koboSpan" id="kobo.481.1" xmlns="http://www.w3.org/1999/xhtml"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.482.1" xmlns="http://www.w3.org/1999/xhtml">pull_request</span></strong><span class="koboSpan" id="kobo.483.1" xmlns="http://www.w3.org/1999/xhtml"> event, or manually. </span><span class="koboSpan" id="kobo.483.2" xmlns="http://www.w3.org/1999/xhtml">It runs inside a Windows runner to perform the builds. </span><span class="koboSpan" id="kobo.483.3" xmlns="http://www.w3.org/1999/xhtml">When the workflow is triggered, two jobs, </span><strong class="bold"><span class="koboSpan" id="kobo.484.1" xmlns="http://www.w3.org/1999/xhtml">Android Build</span></strong><span class="koboSpan" id="kobo.485.1" xmlns="http://www.w3.org/1999/xhtml"> and </span><strong class="bold"><span class="koboSpan" id="kobo.486.1" xmlns="http://www.w3.org/1999/xhtml">Windows Build</span></strong><span class="koboSpan" id="kobo.487.1" xmlns="http://www.w3.org/1999/xhtml">, will be executed. </span><span class="koboSpan" id="kobo.487.2" xmlns="http://www.w3.org/1999/xhtml">Each job includes four steps to perform the build, as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.488.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.489.1" xmlns="http://www.w3.org/1999/xhtml">.14</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.490.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<p><span class="koboSpan" id="kobo.491.1" xmlns="http://www.w3.org/1999/xhtml">In our project, we defined the two </span><span class="No-Break"><span class="koboSpan" id="kobo.492.1" xmlns="http://www.w3.org/1999/xhtml">following workflows:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.493.1" xmlns="http://www.w3.org/1999/xhtml">passxyz-ci-macos.yml</span></strong><span class="koboSpan" id="kobo.494.1" xmlns="http://www.w3.org/1999/xhtml"> – This is a workflow to build iOS and macOS on a </span><span class="No-Break"><span class="koboSpan" id="kobo.495.1" xmlns="http://www.w3.org/1999/xhtml">macOS runner</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.496.1" xmlns="http://www.w3.org/1999/xhtml">passxyz-ci-windows.yml</span></strong><span class="koboSpan" id="kobo.497.1" xmlns="http://www.w3.org/1999/xhtml"> – This is a workflow to build Android and Windows on a </span><span class="No-Break"><span class="koboSpan" id="kobo.498.1" xmlns="http://www.w3.org/1999/xhtml">Windows runner</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.499.1" xmlns="http://www.w3.org/1999/xhtml">We can see the YAML files in </span><em class="italic"><span class="koboSpan" id="kobo.500.1" xmlns="http://www.w3.org/1999/xhtml">Listing 12.3</span></em><span class="koboSpan" id="kobo.501.1" xmlns="http://www.w3.org/1999/xhtml"> and </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.502.1" xmlns="http://www.w3.org/1999/xhtml">Listing 12.4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.503.1" xmlns="http://www.w3.org/1999/xhtml">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.504.1" xmlns="http://www.w3.org/1999/xhtml">
name: PassXYZ.Vault CI Build (Windows)
on:                                                      ①
  push:                                                  ②
    branches: [ master ]
    paths-ignore:
      - '**/*.md'
      - '**/*.gitignore'
      - '**/*.gitattributes'
  pull_request:                                          ③
    branches: [ master ]
  workflow_dispatch:                                     ④
permissions:
  contents: read
env:
  DOTNET_NOLOGO: true
  DOTNET_SKIP_FIRST_TIME_EXPERIENCE: true
  DOTNET_CLI_TELEMETRY_OPTOUT: true
  DOTNETVERSION: 6.0.400
  PROJECT_NAME: PassXYZ.Vault
jobs:                                                    ⑤
# MAUI Android Build
  build-android:                                         ⑥
    runs-on: windows-2022                                ⑦
    name: Android Build
    steps:                                               ⑧
      - name: Checkout
        uses: actions/checkout@v3                        ⑨
      - name: Restore Dependencies
        run: dotnet restore ${{env.PROJECT_NAME}}/$
          {{env.PROJECT_NAME}}.csproj
      - name: Build MAUI Android
        run: dotnet publish ${{env.PROJECT_NAME}}/$
          {{env.PROJECT_NAME}}.csproj -c Release -f net6.0-
            android --no-restore
      - name: Upload Android Artifact
        uses: actions/upload-artifact@v3
        with:
          name: passxyz-android-ci-build
          path: ${{env.PROJECT_NAME}}/bin/Release/net6.0-
            android/*Signed.a*
# MAUI Windows Build
  build-windows:
    runs-on: windows-2022
    name: Windows Build
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Restore Dependencies
        run: dotnet restore ${{env.PROJECT_NAME}}
          /${{env.PROJECT_NAME}}.csproj
      - name: Build MAUI Windows
        run: dotnet publish ${{env.PROJECT_NAME}}/$
          {{env.PROJECT_NAME}}.csproj -c Release -f net6.0-
            windows10.0.19041.0 --no-restore
      - name: Upload Windows Artifact
        uses: actions/upload-artifact@v3
        with:
          name: passxyz-windows-ci-build
          path: ${{env.PROJECT_NAME}}/...</span></pre>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.505.1" xmlns="http://www.w3.org/1999/xhtml">Listing 12.3: passxyz-ci-windows.yml (https://epa.ms/passxyz-ci-windows12-3)</span></p>
<p><span class="koboSpan" id="kobo.506.1" xmlns="http://www.w3.org/1999/xhtml">The YAML file in </span><em class="italic"><span class="koboSpan" id="kobo.507.1" xmlns="http://www.w3.org/1999/xhtml">Listing 12.3</span></em><span class="koboSpan" id="kobo.508.1" xmlns="http://www.w3.org/1999/xhtml"> is a little long, but it explains what needs to be set up in a workflow. </span><span class="koboSpan" id="kobo.508.2" xmlns="http://www.w3.org/1999/xhtml">We will now analyze</span><a id="_idIndexMarker903"/><span class="koboSpan" id="kobo.509.1" xmlns="http://www.w3.org/1999/xhtml"> it step </span><span class="No-Break"><span class="koboSpan" id="kobo.510.1" xmlns="http://www.w3.org/1999/xhtml">by step.</span></span></p>
<h3><span class="koboSpan" id="kobo.511.1" xmlns="http://www.w3.org/1999/xhtml">Events</span></h3>
<p><span class="koboSpan" id="kobo.512.1" xmlns="http://www.w3.org/1999/xhtml">The workflow is triggered </span><a id="_idIndexMarker904"/><span class="koboSpan" id="kobo.513.1" xmlns="http://www.w3.org/1999/xhtml">by events that are defined after the </span><strong class="source-inline"><span class="koboSpan" id="kobo.514.1" xmlns="http://www.w3.org/1999/xhtml">on:</span></strong><span class="koboSpan" id="kobo.515.1" xmlns="http://www.w3.org/1999/xhtml"> keyword ①. </span><span class="koboSpan" id="kobo.515.2" xmlns="http://www.w3.org/1999/xhtml">In the preceding workflow, we defined the </span><strong class="source-inline"><span class="koboSpan" id="kobo.516.1" xmlns="http://www.w3.org/1999/xhtml">push</span></strong><span class="koboSpan" id="kobo.517.1" xmlns="http://www.w3.org/1999/xhtml"> ②, </span><strong class="source-inline"><span class="koboSpan" id="kobo.518.1" xmlns="http://www.w3.org/1999/xhtml">pull_request</span></strong><span class="koboSpan" id="kobo.519.1" xmlns="http://www.w3.org/1999/xhtml"> ③ and </span><strong class="source-inline"><span class="koboSpan" id="kobo.520.1" xmlns="http://www.w3.org/1999/xhtml">workflow_dispatch</span></strong><span class="koboSpan" id="kobo.521.1" xmlns="http://www.w3.org/1999/xhtml"> ④ events. </span><span class="koboSpan" id="kobo.521.2" xmlns="http://www.w3.org/1999/xhtml">For both </span><strong class="source-inline"><span class="koboSpan" id="kobo.522.1" xmlns="http://www.w3.org/1999/xhtml">push</span></strong><span class="koboSpan" id="kobo.523.1" xmlns="http://www.w3.org/1999/xhtml"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.524.1" xmlns="http://www.w3.org/1999/xhtml">pull_request</span></strong><span class="koboSpan" id="kobo.525.1" xmlns="http://www.w3.org/1999/xhtml">, we monitor the events on the master branch. </span><span class="koboSpan" id="kobo.525.2" xmlns="http://www.w3.org/1999/xhtml">We also ignore no build related commits such as markdown files or configuration files. </span><span class="koboSpan" id="kobo.525.3" xmlns="http://www.w3.org/1999/xhtml">Please refer to the following GitHub documentation about events that can be used to trigger workflows for </span><span class="No-Break"><span class="koboSpan" id="kobo.526.1" xmlns="http://www.w3.org/1999/xhtml">more information:</span></span></p>
<p><a href="https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows"><span class="No-Break"><span class="koboSpan" id="kobo.527.1" xmlns="http://www.w3.org/1999/xhtml">https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows</span></span></a></p>
<h3><span class="koboSpan" id="kobo.528.1" xmlns="http://www.w3.org/1999/xhtml">Jobs</span></h3>
<p><span class="koboSpan" id="kobo.529.1" xmlns="http://www.w3.org/1999/xhtml">When a workflow is triggered, it starts to execute</span><a id="_idIndexMarker905"/><span class="koboSpan" id="kobo.530.1" xmlns="http://www.w3.org/1999/xhtml"> the defined jobs. </span><span class="koboSpan" id="kobo.530.2" xmlns="http://www.w3.org/1999/xhtml">Jobs are defined after the </span><strong class="source-inline"><span class="koboSpan" id="kobo.531.1" xmlns="http://www.w3.org/1999/xhtml">jobs:</span></strong><span class="koboSpan" id="kobo.532.1" xmlns="http://www.w3.org/1999/xhtml"> ⑤ keyword. </span><span class="koboSpan" id="kobo.532.2" xmlns="http://www.w3.org/1999/xhtml">One or more jobs can be defined in a workflow. </span><span class="koboSpan" id="kobo.532.3" xmlns="http://www.w3.org/1999/xhtml">They are identified by a job ID, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.533.1" xmlns="http://www.w3.org/1999/xhtml">build-android</span></strong><span class="koboSpan" id="kobo.534.1" xmlns="http://www.w3.org/1999/xhtml"> ⑥. </span><span class="koboSpan" id="kobo.534.2" xmlns="http://www.w3.org/1999/xhtml">There are two jobs, </span><strong class="source-inline"><span class="koboSpan" id="kobo.535.1" xmlns="http://www.w3.org/1999/xhtml">build-android</span></strong><span class="koboSpan" id="kobo.536.1" xmlns="http://www.w3.org/1999/xhtml"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.537.1" xmlns="http://www.w3.org/1999/xhtml">build-windows</span></strong><span class="koboSpan" id="kobo.538.1" xmlns="http://www.w3.org/1999/xhtml">, defined in </span><em class="italic"><span class="koboSpan" id="kobo.539.1" xmlns="http://www.w3.org/1999/xhtml">Listing 12.3</span></em><span class="koboSpan" id="kobo.540.1" xmlns="http://www.w3.org/1999/xhtml">. </span><span class="koboSpan" id="kobo.540.2" xmlns="http://www.w3.org/1999/xhtml">Each job can define a name, a runner, and </span><span class="No-Break"><span class="koboSpan" id="kobo.541.1" xmlns="http://www.w3.org/1999/xhtml">multiple steps.</span></span></p>
<h3><span class="koboSpan" id="kobo.542.1" xmlns="http://www.w3.org/1999/xhtml">Runners</span></h3>
<p><span class="koboSpan" id="kobo.543.1" xmlns="http://www.w3.org/1999/xhtml">A runner</span><a id="_idIndexMarker906"/><span class="koboSpan" id="kobo.544.1" xmlns="http://www.w3.org/1999/xhtml"> is the type of platform that runs the job. </span><span class="koboSpan" id="kobo.544.2" xmlns="http://www.w3.org/1999/xhtml">In our configuration, both Android and Windows jobs are executed using Windows runners. </span><span class="koboSpan" id="kobo.544.3" xmlns="http://www.w3.org/1999/xhtml">The runner is defined after the </span><strong class="source-inline"><span class="koboSpan" id="kobo.545.1" xmlns="http://www.w3.org/1999/xhtml">runs-on:</span></strong><span class="koboSpan" id="kobo.546.1" xmlns="http://www.w3.org/1999/xhtml"> ⑦ keyword. </span><span class="koboSpan" id="kobo.546.2" xmlns="http://www.w3.org/1999/xhtml">Please refer to GitHub Actions documentation about the configuration of runners. </span><span class="koboSpan" id="kobo.546.3" xmlns="http://www.w3.org/1999/xhtml">The runner that we use is </span><strong class="source-inline"><span class="koboSpan" id="kobo.547.1" xmlns="http://www.w3.org/1999/xhtml">windows-2022</span></strong><span class="koboSpan" id="kobo.548.1" xmlns="http://www.w3.org/1999/xhtml">, which is the label of the runner image. </span><span class="koboSpan" id="kobo.548.2" xmlns="http://www.w3.org/1999/xhtml">In the configuration of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.549.1" xmlns="http://www.w3.org/1999/xhtml">windows-2022</span></strong><span class="koboSpan" id="kobo.550.1" xmlns="http://www.w3.org/1999/xhtml"> image, Visual Studio 2022 and .NET MAUI are pre-installed so we can run the build without the installation of any dependencies. </span><span class="koboSpan" id="kobo.550.2" xmlns="http://www.w3.org/1999/xhtml">However, in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.551.1" xmlns="http://www.w3.org/1999/xhtml">passxyz-ci-macos.yml</span></strong><span class="koboSpan" id="kobo.552.1" xmlns="http://www.w3.org/1999/xhtml"> workflow, we need to install .NET MAUI first before we can start </span><span class="No-Break"><span class="koboSpan" id="kobo.553.1" xmlns="http://www.w3.org/1999/xhtml">the build.</span></span></p>
<h3><span class="koboSpan" id="kobo.554.1" xmlns="http://www.w3.org/1999/xhtml">Steps</span></h3>
<p><span class="koboSpan" id="kobo.555.1" xmlns="http://www.w3.org/1999/xhtml">Multiple steps</span><a id="_idIndexMarker907"/><span class="koboSpan" id="kobo.556.1" xmlns="http://www.w3.org/1999/xhtml"> can be defined in a job and they are defined after the </span><strong class="source-inline"><span class="koboSpan" id="kobo.557.1" xmlns="http://www.w3.org/1999/xhtml">steps:</span></strong><span class="koboSpan" id="kobo.558.1" xmlns="http://www.w3.org/1999/xhtml"> ⑧ keyword. </span><span class="koboSpan" id="kobo.558.2" xmlns="http://www.w3.org/1999/xhtml">In both Android and Windows builds, there are four steps: </span><em class="italic"><span class="koboSpan" id="kobo.559.1" xmlns="http://www.w3.org/1999/xhtml">checkout</span></em><span class="koboSpan" id="kobo.560.1" xmlns="http://www.w3.org/1999/xhtml">, </span><em class="italic"><span class="koboSpan" id="kobo.561.1" xmlns="http://www.w3.org/1999/xhtml">restore dependencies</span></em><span class="koboSpan" id="kobo.562.1" xmlns="http://www.w3.org/1999/xhtml">, </span><em class="italic"><span class="koboSpan" id="kobo.563.1" xmlns="http://www.w3.org/1999/xhtml">build</span></em><span class="koboSpan" id="kobo.564.1" xmlns="http://www.w3.org/1999/xhtml">, and </span><em class="italic"><span class="koboSpan" id="kobo.565.1" xmlns="http://www.w3.org/1999/xhtml">upload</span></em><span class="koboSpan" id="kobo.566.1" xmlns="http://www.w3.org/1999/xhtml">. </span><span class="koboSpan" id="kobo.566.2" xmlns="http://www.w3.org/1999/xhtml">Each step can run a script or an action. </span><span class="koboSpan" id="kobo.566.3" xmlns="http://www.w3.org/1999/xhtml">In the checkout step, a </span><strong class="source-inline"><span class="koboSpan" id="kobo.567.1" xmlns="http://www.w3.org/1999/xhtml">checkout</span></strong><span class="koboSpan" id="kobo.568.1" xmlns="http://www.w3.org/1999/xhtml"> action is used after the </span><strong class="source-inline"><span class="koboSpan" id="kobo.569.1" xmlns="http://www.w3.org/1999/xhtml">uses:</span></strong><span class="koboSpan" id="kobo.570.1" xmlns="http://www.w3.org/1999/xhtml"> ⑨ keyword. </span><span class="koboSpan" id="kobo.570.2" xmlns="http://www.w3.org/1999/xhtml">An action is a custom application in the GitHub Actions platform to perform a complex but frequent repeated task. </span><span class="koboSpan" id="kobo.570.3" xmlns="http://www.w3.org/1999/xhtml">Using actions, we can reuse code such as a component in object-oriented programming. </span><span class="koboSpan" id="kobo.570.4" xmlns="http://www.w3.org/1999/xhtml">To use it, we can just specify the action name with an optional version number. </span><span class="koboSpan" id="kobo.570.5" xmlns="http://www.w3.org/1999/xhtml">In our script, we can specify the checkout action </span><span class="No-Break"><span class="koboSpan" id="kobo.571.1" xmlns="http://www.w3.org/1999/xhtml">as </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.572.1" xmlns="http://www.w3.org/1999/xhtml">actions/checkout@v3</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.573.1" xmlns="http://www.w3.org/1999/xhtml">.</span></span></p>
<p><span class="koboSpan" id="kobo.574.1" xmlns="http://www.w3.org/1999/xhtml">The source code of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.575.1" xmlns="http://www.w3.org/1999/xhtml">checkout</span></strong><span class="koboSpan" id="kobo.576.1" xmlns="http://www.w3.org/1999/xhtml"> action is hosted on GitHub and can be found at the </span><span class="No-Break"><span class="koboSpan" id="kobo.577.1" xmlns="http://www.w3.org/1999/xhtml">following site:</span></span></p>
<p><a href="https://github.com/actions/checkout"><span class="No-Break"><span class="koboSpan" id="kobo.578.1" xmlns="http://www.w3.org/1999/xhtml">https://github.com/actions/checkout</span></span></a></p>
<p><span class="koboSpan" id="kobo.579.1" xmlns="http://www.w3.org/1999/xhtml">In the restore and build steps, we can just run the following </span><strong class="bold"><span class="koboSpan" id="kobo.580.1" xmlns="http://www.w3.org/1999/xhtml">dotnet</span></strong><span class="koboSpan" id="kobo.581.1" xmlns="http://www.w3.org/1999/xhtml"> command directly after the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.582.1" xmlns="http://www.w3.org/1999/xhtml">run:</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.583.1" xmlns="http://www.w3.org/1999/xhtml"> syntax:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.584.1" xmlns="http://www.w3.org/1999/xhtml">
dotnet restore ${{env.PROJECT_NAME}}/${{env.PROJECT_NAME}}.csproj</span></pre>
<p><span class="koboSpan" id="kobo.585.1" xmlns="http://www.w3.org/1999/xhtml">After the build is completed, we can upload the artifact using another </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.586.1" xmlns="http://www.w3.org/1999/xhtml">upload-artifact</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.587.1" xmlns="http://www.w3.org/1999/xhtml"> action.</span></span></p>
<p><span class="koboSpan" id="kobo.588.1" xmlns="http://www.w3.org/1999/xhtml">We have introduced the </span><strong class="source-inline"><span class="koboSpan" id="kobo.589.1" xmlns="http://www.w3.org/1999/xhtml">passxyz-ci-windows.yml</span></strong><span class="koboSpan" id="kobo.590.1" xmlns="http://www.w3.org/1999/xhtml"> workflow, which performs Android and Windows builds. </span><span class="koboSpan" id="kobo.590.2" xmlns="http://www.w3.org/1999/xhtml">Let us review the </span><strong class="source-inline"><span class="koboSpan" id="kobo.591.1" xmlns="http://www.w3.org/1999/xhtml">passxyz-ci-macos.yml</span></strong><span class="koboSpan" id="kobo.592.1" xmlns="http://www.w3.org/1999/xhtml"> workflow, which performs iOS and macOS builds, in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.593.1" xmlns="http://www.w3.org/1999/xhtml">Listing 12.4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.594.1" xmlns="http://www.w3.org/1999/xhtml">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.595.1" xmlns="http://www.w3.org/1999/xhtml">
name: PassXYZ.Vault CI Build (MacOS)
on:
  push:
    branches: [ master ]
    paths-ignore:
      - '**/*.md'
      - '**/*.gitignore'
      - '**/*.gitattributes'
  pull_request:
    branches: [ master ]
  workflow_dispatch:
permissions:
  contents: read
env:
  DOTNET_NOLOGO: true
  DOTNET_SKIP_FIRST_TIME_EXPERIENCE: true
  DOTNET_CLI_TELEMETRY_OPTOUT: true
  DOTNETVERSION: 6.0.400
  PROJECT_NAME: PassXYZ.Vault
jobs:
# MAUI iOS Build
  build-ios:
    runs-on: macos-12                                     ❶
    name: iOS Build
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Install .NET MAUI                           ❷
        shell: pwsh
        run: |
          &amp; dotnet nuget locals all --clear
          &amp; dotnet workload install maui --source
          https://aka.ms/dotnet6/nuget/index.json --source
            https://api.nuget.org/v3/index.json
          &amp; dotnet workload install android ios maccatalyst
tvos macos maui wasm-tools maui-maccatalyst --source
          https://aka.ms/dotnet6/nuget/index.json --source
            https://api.nuget.org/v3/index.json
      - name: Restore Dependencies
        run: dotnet restore ${{env.PROJECT_NAME}}
          /${{env.PROJECT_NAME}}.csproj
      - name: Build MAUI iOS
        run: dotnet build ${{env.PROJECT_NAME}}
          /${{env.PROJECT_NAME}}.csproj -c Release -f
          net6.0-ios --no-restore /p:buildForSimulator=True
            /p:packageApp=True /p:ArchiveOnBuild=False
      - name: Upload iOS Artifact
        uses: actions/upload-artifact@v3
        with:
          name: passxyz-ios-ci-build
          path: ${{env.PROJECT_NAME}}/bin/Release/net6.0-
           ios/iossimulator-x64/**/*.app
# MAUI MacCatalyst Build
  build-mac:
    runs-on: macos-12
    name: MacCatalyst Build
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Install .NET MAUI
        shell: pwsh
        run: |
          &amp; dotnet nuget locals all --clear
          &amp; dotnet workload install maui --source
           https://aka.ms/dotnet6/nuget/index.json --source
             https://api.nuget.org/v3/index.json
          &amp; dotnet workload install android ios maccatalyst
       tvos macos maui wasm-tools maui-maccatalyst --source
          https://aka.ms/dotnet6/nuget/index.json --source
            https://api.nuget.org/v3/index.json
      - name: Restore Dependencies
        run: dotnet restore ${{env.PROJECT_NAME}}
          /${{env.PROJECT_NAME}}.csproj
      - name: Build MAUI MacCatalyst
        run: dotnet publish ${{env.PROJECT_NAME}}
          /${{env.PROJECT_NAME}}.csproj -c Release -f
          net6.0-maccatalyst --no-restore -p:BuildIpa=True
      - name: Upload MacCatalyst Artifact
        uses: actions/upload-artifact@v3
        with:
          name: passxyz-macos-ci-build
          path: ${{env.PROJECT_NAME}}/bin/Release/net6.0-
            maccatalyst/maccatalyst-x64/publish/*.pkg</span></pre>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.596.1" xmlns="http://www.w3.org/1999/xhtml">Listing 12.4: passxyz-ci-macos.yml (https://epa.ms/passxyz-ci-macos12-4)</span></p>
<p><span class="koboSpan" id="kobo.597.1" xmlns="http://www.w3.org/1999/xhtml">The workflow of the iOS</span><a id="_idIndexMarker908"/><span class="koboSpan" id="kobo.598.1" xmlns="http://www.w3.org/1999/xhtml"> and macOS build is similar to the workflow of the Android and Windows build. </span><span class="koboSpan" id="kobo.598.2" xmlns="http://www.w3.org/1999/xhtml">The difference is that the </span><strong class="source-inline"><span class="koboSpan" id="kobo.599.1" xmlns="http://www.w3.org/1999/xhtml">macos-12</span></strong><span class="koboSpan" id="kobo.600.1" xmlns="http://www.w3.org/1999/xhtml"> ❶ runner is used here. </span><span class="koboSpan" id="kobo.600.2" xmlns="http://www.w3.org/1999/xhtml">Visual Studio for macOS is pre-installed in this runner, but </span><strong class="source-inline"><span class="koboSpan" id="kobo.601.1" xmlns="http://www.w3.org/1999/xhtml">.NET MAUI</span></strong><span class="koboSpan" id="kobo.602.1" xmlns="http://www.w3.org/1999/xhtml"> is not installed at the moment. </span><span class="koboSpan" id="kobo.602.2" xmlns="http://www.w3.org/1999/xhtml">We need to add an extra step to install </span><strong class="source-inline"><span class="koboSpan" id="kobo.603.1" xmlns="http://www.w3.org/1999/xhtml">.NET MAUI</span></strong><span class="koboSpan" id="kobo.604.1" xmlns="http://www.w3.org/1999/xhtml"> ❷ before the build. </span><span class="koboSpan" id="kobo.604.2" xmlns="http://www.w3.org/1999/xhtml">The rest of the steps are similar to a Windows or </span><span class="No-Break"><span class="koboSpan" id="kobo.605.1" xmlns="http://www.w3.org/1999/xhtml">Android build.</span></span></p>
<p><span class="koboSpan" id="kobo.606.1" xmlns="http://www.w3.org/1999/xhtml">We introduced the configuration of all builds in GitHub Actions. </span><span class="koboSpan" id="kobo.606.2" xmlns="http://www.w3.org/1999/xhtml">Let us check the build status </span><span class="No-Break"><span class="koboSpan" id="kobo.607.1" xmlns="http://www.w3.org/1999/xhtml">on GitHub.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer131">
<span class="koboSpan" id="kobo.608.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.15: The Android and Windows build status" src="image/Figure_12.15_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.609.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.15: The Android and Windows build status</span></p>
<p><span class="koboSpan" id="kobo.610.1" xmlns="http://www.w3.org/1999/xhtml">From </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.611.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.612.1" xmlns="http://www.w3.org/1999/xhtml">.15</span></em><span class="koboSpan" id="kobo.613.1" xmlns="http://www.w3.org/1999/xhtml">, we can see that both Android</span><a id="_idIndexMarker909"/><span class="koboSpan" id="kobo.614.1" xmlns="http://www.w3.org/1999/xhtml"> and Windows builds are completed successfully. </span><span class="koboSpan" id="kobo.614.2" xmlns="http://www.w3.org/1999/xhtml">The build artifacts can be downloaded from GitHub after </span><span class="No-Break"><span class="koboSpan" id="kobo.615.1" xmlns="http://www.w3.org/1999/xhtml">the build.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer132">
<span class="koboSpan" id="kobo.616.1" xmlns="http://www.w3.org/1999/xhtml"><img alt="Figure 12.16: The iOS and MacCatalyst build status" src="image/Figure_12.16_B16588.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.617.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12.16: The iOS and MacCatalyst build status</span></p>
<p><span class="koboSpan" id="kobo.618.1" xmlns="http://www.w3.org/1999/xhtml">In </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.619.1" xmlns="http://www.w3.org/1999/xhtml">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.620.1" xmlns="http://www.w3.org/1999/xhtml">.16</span></em><span class="koboSpan" id="kobo.621.1" xmlns="http://www.w3.org/1999/xhtml">, we can see that both iOS</span><a id="_idIndexMarker910"/><span class="koboSpan" id="kobo.622.1" xmlns="http://www.w3.org/1999/xhtml"> and MacCatalyst builds are </span><span class="No-Break"><span class="koboSpan" id="kobo.623.1" xmlns="http://www.w3.org/1999/xhtml">completed successfully.</span></span></p>
<p><span class="koboSpan" id="kobo.624.1" xmlns="http://www.w3.org/1999/xhtml">With the successful builds in GitHub Actions, we have concluded the introduction of packaging our app for app store submission and automating build using </span><span class="No-Break"><span class="koboSpan" id="kobo.625.1" xmlns="http://www.w3.org/1999/xhtml">GitHub Actions.</span></span></p>
<h1 id="_idParaDest-235"><a id="_idTextAnchor251"/><span class="koboSpan" id="kobo.626.1" xmlns="http://www.w3.org/1999/xhtml">Summary</span></h1>
<p><span class="koboSpan" id="kobo.627.1" xmlns="http://www.w3.org/1999/xhtml">CI/CD are common practices in today’s development process. </span><span class="koboSpan" id="kobo.627.2" xmlns="http://www.w3.org/1999/xhtml">In this chapter, we introduced how to prepare the build and submit packages for various app stores. </span><span class="koboSpan" id="kobo.627.3" xmlns="http://www.w3.org/1999/xhtml">The process after the submission of build packages is not covered since they are platform and </span><span class="No-Break"><span class="koboSpan" id="kobo.628.1" xmlns="http://www.w3.org/1999/xhtml">account-specific topics.</span></span></p>
<p><span class="koboSpan" id="kobo.629.1" xmlns="http://www.w3.org/1999/xhtml">After we introduce the build process of each platform, we can automate the process in GitHub Actions. </span><span class="koboSpan" id="kobo.629.2" xmlns="http://www.w3.org/1999/xhtml">In the second part of this chapter, we introduced how to set up the build process in </span><span class="No-Break"><span class="koboSpan" id="kobo.630.1" xmlns="http://www.w3.org/1999/xhtml">GitHub Actions.</span></span></p>
<p><span class="koboSpan" id="kobo.631.1" xmlns="http://www.w3.org/1999/xhtml">With all the skills that you learned from this book, you should be able to develop your own .NET MAUI applications and be ready to submit your apps to supported app </span><span class="No-Break"><span class="koboSpan" id="kobo.632.1" xmlns="http://www.w3.org/1999/xhtml">stores now.</span></span></p>
</div>
</body>
</html>
